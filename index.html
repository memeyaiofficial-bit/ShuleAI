<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>Shule AI Plus + - Gamified Learning for CBC Curriculum</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #4361ee;
        --primary-dark: #3a56d4;
        --primary-light: #4895ef;
        --secondary: #7209b7;
        --success: #06d6a0;
        --warning: #ffb703;
        --danger: #e63946;
        --dark: #0f172a;
        --gray-dark: #1e293b;
        --gray: #475569;
        --gray-light: #64748b;
        --gray-lighter: #94a3b8;
        --light: #e2e8f0;
        --lighter: #f1f5f9;
        --white: #ffffff;
        --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
        --shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        --shadow-md: 0 10px 15px -3px rgba(0,0,0,0.1);
        --shadow-lg: 0 20px 25px -5px rgba(0,0,0,0.1);
        --shadow-xl: 0 25px 50px -12px rgba(0,0,0,0.25);
        --radius-sm: 0.375rem;
        --radius: 0.5rem;
        --radius-md: 0.75rem;
        --radius-lg: 1rem;
        --radius-xl: 1.5rem;
        --radius-2xl: 2rem;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        color: var(--dark);
        line-height: 1.5;
        background: var(--lighter);
        overflow-x: hidden;
      }

      body.modal-open {
        overflow: hidden !important;
        position: fixed !important;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100% !important;
        height: 100% !important;
        touch-action: none !important;
        -webkit-overflow-scrolling: none !important;
      }

      /* ============ LANDING PAGE ============ */
      .landing-page {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: linear-gradient(135deg, #4361ee 0%, #7209b7 100%);
        overflow-y: auto;
        z-index: 9999;
        color: white;
      }

      .landing-container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 2rem 1.5rem;
      }

      .landing-content {
        text-align: center;
      }

      .landing-header {
        margin-bottom: 3rem;
        padding-top: 2rem;
      }

      .landing-logo {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
      }

      .logo-icon {
        font-size: 4rem;
        filter: drop-shadow(0 10px 15px rgba(0,0,0,0.2));
      }

      .landing-logo h1 {
        font-size: clamp(2.5rem, 8vw, 4rem);
        font-weight: 800;
        letter-spacing: -0.02em;
        margin: 0;
      }

      .landing-tagline {
        font-size: clamp(1.1rem, 4vw, 1.5rem);
        opacity: 0.95;
        font-weight: 400;
      }

      .landing-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin: 4rem 0;
      }

      .feature-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px);
        border-radius: var(--radius-xl);
        padding: 2.5rem 1.5rem;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: transform 0.2s;
      }

      .feature-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.15);
      }

      .feature-icon {
        font-size: 3rem;
        margin-bottom: 1.5rem;
        color: white;
      }

      .feature-card h3 {
        font-size: 1.5rem;
        margin-bottom: 0.75rem;
        font-weight: 700;
      }

      .feature-card p {
        opacity: 0.9;
        font-size: 1rem;
        line-height: 1.6;
      }

      /* ============ PRICING CARDS ============ */
      .pricing-section {
        margin: 5rem 0;
      }

      .pricing-section h2 {
        font-size: clamp(2rem, 5vw, 2.5rem);
        margin-bottom: 2.5rem;
        font-weight: 700;
      }

      .pricing-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      .pricing-card {
        background: white;
        color: var(--dark);
        border-radius: var(--radius-xl);
        padding: 2rem;
        position: relative;
        box-shadow: var(--shadow-xl);
        display: flex;
        flex-direction: column;
        height: 100%;
        transition: all 0.2s;
      }

      .pricing-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 30px 60px -15px rgba(0,0,0,0.3);
      }

      .pricing-card.featured {
        background: linear-gradient(145deg, #0f766e, #115e59);
        color: white;
        transform: scale(1.05);
        z-index: 2;
      }

      .popular-badge {
        position: absolute;
        top: -12px;
        right: 24px;
        background: #f97316;
        color: white;
        padding: 0.5rem 1.25rem;
        border-radius: 100px;
        font-size: 0.8rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        box-shadow: var(--shadow-md);
      }

      .pricing-card h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        font-weight: 700;
      }

      .price {
        font-size: clamp(2.5rem, 5vw, 3rem);
        font-weight: 800;
        margin: 1rem 0;
        line-height: 1;
      }

      .features-list {
        list-style: none;
        padding: 0;
        margin: 1.5rem 0;
        flex-grow: 1;
      }

      .features-list li {
        padding: 0.75rem 0;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        border-bottom: 1px solid rgba(0,0,0,0.05);
      }

      .pricing-card.featured .features-list li {
        border-bottom-color: rgba(255,255,255,0.1);
      }

      .features-list i {
        color: #10b981;
        width: 1.25rem;
      }

      .pricing-card.featured i {
        color: white;
      }

      /* ============ CTA BUTTON ============ */
      .cta-section {
        margin: 4rem 0;
      }

      .signin-cta-btn {
        background: white;
        color: #4361ee;
        border: none;
        padding: 1.5rem 3rem;
        font-size: clamp(1.1rem, 4vw, 1.3rem);
        font-weight: 700;
        border-radius: 100px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        box-shadow: 0 20px 35px -8px rgba(0,0,0,0.3);
        transition: all 0.2s;
      }

      .signin-cta-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 25px 45px -10px rgba(0,0,0,0.4);
      }

      .signin-note {
        margin-top: 1.5rem;
        font-size: 1.1rem;
        opacity: 0.95;
      }

      /* ============ MODAL BASE ============ */
      .auth-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.75);
        backdrop-filter: blur(8px);
        z-index: 999999;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }

      .auth-modal-content {
        background: white;
        margin: 2rem auto;
        border-radius: var(--radius-2xl);
        max-width: 600px;
        width: calc(100% - 2rem);
        position: relative;
        box-shadow: var(--shadow-xl);
        animation: modalFadeIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      }

      @keyframes modalFadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .auth-close {
        position: absolute;
        top: 1.25rem;
        right: 1.5rem;
        font-size: 2rem;
        font-weight: 300;
        color: var(--gray-light);
        cursor: pointer;
        z-index: 10;
        line-height: 1;
        transition: color 0.2s;
      }

      .auth-close:hover {
        color: var(--dark);
      }

      .auth-step {
        display: none;
        padding: 2rem;
      }

      .auth-step.active {
        display: block;
      }

      /* ============ STEP INDICATOR ============ */
      .step-indicator {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2rem;
      }

      .step {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 50%;
        background: var(--light);
        color: var(--gray);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.1rem;
      }

      .step.active {
        background: var(--primary);
        color: white;
      }

      .step.completed {
        background: #10b981;
        color: white;
        cursor: pointer;
      }

      .step-line {
        width: 3rem;
        height: 2px;
        background: var(--light);
        margin: 0 0.5rem;
      }

      /* ============ FLOATING LABEL FORM ============ */
      .floating-label-group {
        position: relative;
        margin-bottom: 1.5rem;
      }

      .floating-label-group input {
        width: 100%;
        padding: 1.25rem 1.25rem 0.5rem 3rem;
        border: 2px solid var(--light);
        border-radius: var(--radius-lg);
        font-size: 1rem;
        background: var(--lighter);
        transition: all 0.2s;
      }

      .floating-label-group input:focus {
        outline: none;
        border-color: var(--primary);
        background: white;
        box-shadow: 0 0 0 4px rgba(67, 97, 238, 0.1);
      }

      .floating-label-group label {
        position: absolute;
        left: 3rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray-light);
        pointer-events: none;
        transition: 0.2s ease;
        font-size: 1rem;
        padding: 0 0.25rem;
      }

      .floating-label-group input:focus ~ label,
      .floating-label-group input:not(:placeholder-shown) ~ label {
        top: 0;
        transform: translateY(-50%) scale(0.85);
        left: 2.5rem;
        background: white;
        color: var(--primary);
        font-weight: 600;
      }

      .input-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray-light);
        font-size: 1.1rem;
      }

      /* ============ ACTION LINKS ============ */
      .action-links-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin: 1.5rem 0;
      }

      .action-link-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        padding: 0.875rem;
        background: var(--lighter);
        border-radius: var(--radius-lg);
        color: var(--dark);
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 600;
        border: 1px solid var(--light);
        transition: all 0.2s;
        width: 100%;
        cursor: pointer;
        font-family: inherit;
      }

      .action-link-btn:hover {
        background: white;
        border-color: var(--primary);
        color: var(--primary);
      }

      .action-link-btn.highlight {
        background: rgba(67, 97, 238, 0.08);
        border-color: var(--primary);
        color: var(--primary);
      }

      .special-code-badge {
        background: linear-gradient(145deg, #ffedd5, #fed7aa);
        color: #7c2d12;
        padding: 0.875rem 1.25rem;
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        gap: 1rem;
        font-size: 0.9rem;
        margin: 1rem 0;
        border-left: 4px solid #f97316;
      }

      .special-code-badge i {
        font-size: 1.2rem;
        color: #f97316;
      }

      /* ============ VERIFICATION CARD ============ */
      .verification-card {
        background: var(--lighter);
        border-radius: var(--radius-xl);
        padding: 1.5rem;
        margin: 1.5rem 0;
        border: 1px solid var(--light);
      }

      .user-preview {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px dashed var(--gray-lighter);
      }

      .user-avatar i {
        font-size: 3rem;
        color: var(--gray);
      }

      .user-contact {
        font-weight: 700;
        font-size: 1.1rem;
        color: var(--dark);
      }

      .code-preview {
        font-size: 0.9rem;
        color: var(--gray);
        letter-spacing: 2px;
      }

      .code-status {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: white;
        border-radius: var(--radius-lg);
        margin-bottom: 1.5rem;
      }

      .code-status i {
        font-size: 1.8rem;
        color: var(--primary);
      }

      .status-text {
        display: flex;
        flex-direction: column;
      }

      .status-text strong {
        color: var(--dark);
      }

      .status-text span {
        color: var(--gray);
        font-size: 0.85rem;
      }

      .verification-actions {
        display: flex;
        gap: 1rem;
      }

      .verification-actions button {
        flex: 1;
      }

      .step2-payment-redirect {
        margin-top: 1.5rem;
        padding-top: 1.25rem;
        border-top: 1px solid var(--light);
        text-align: center;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        color: var(--gray);
      }

      .payment-redirect-btn {
        background: none;
        border: none;
        color: var(--primary);
        font-weight: 700;
        text-decoration: underline;
        cursor: pointer;
        padding: 0;
        margin: 0;
        font-size: 0.95rem;
        font-family: inherit;
      }

      .payment-redirect-btn:hover {
        color: var(--primary-dark);
        text-decoration: none;
      }

      .purchase-code-btn {
        background: none;
        border: none;
        color: var(--primary);
        font-weight: 600;
        cursor: pointer;
        padding: 0.5rem;
        font-size: 0.95rem;
        font-family: inherit;
        text-align: center;
      }

      .purchase-code-btn:hover {
        color: var(--primary-dark);
        text-decoration: underline;
      }

      /* ============ PAYMENT MODAL ============ */
      .till-card-enhanced {
        background: linear-gradient(145deg, #0f172a, #020617);
        border-radius: var(--radius-2xl);
        padding: 2rem 1.5rem;
        margin-bottom: 1.5rem;
        color: white;
        text-align: center;
        box-shadow: var(--shadow-xl);
        border: 1px solid rgba(255,255,255,0.1);
      }

      .till-label {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 4px;
        opacity: 0.8;
        margin-bottom: 0.75rem;
      }

      .till-number-large {
        font-size: clamp(2.5rem, 8vw, 4rem);
        font-weight: 800;
        line-height: 1;
        letter-spacing: 8px;
        font-family: 'Courier New', monospace;
        margin-bottom: 1rem;
        text-shadow: 0 4px 12px rgba(0,0,0,0.4);
      }

      .business-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        background: rgba(255,255,255,0.1);
        padding: 0.625rem 1.25rem;
        border-radius: 100px;
        font-size: 0.9rem;
        backdrop-filter: blur(4px);
        margin-top: 0.5rem;
      }

      .steps-flow-enhanced {
        background: white;
        border-radius: var(--radius-xl);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border: 1px solid var(--light);
        box-shadow: var(--shadow-sm);
      }

      .flow-header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 1.25rem;
        color: var(--dark);
        font-weight: 700;
      }

      .flow-header i {
        color: var(--primary);
        font-size: 1.2rem;
      }

      .steps-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .step-chip {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--lighter);
        padding: 0.5rem 1rem;
        border-radius: 100px;
        border: 1px solid var(--light);
      }

      .step-chip .step-num {
        width: 1.75rem;
        height: 1.75rem;
        background: var(--primary);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        font-weight: 700;
      }

      .step-chip span {
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--dark);
      }

      .step-arrow i {
        color: var(--gray-lighter);
        font-size: 0.8rem;
      }

      .plan-grid-enhanced {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .plan-card-modern {
        background: white;
        border: 2px solid var(--light);
        border-radius: var(--radius-lg);
        padding: 1.25rem 0.75rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        position: relative;
      }

      .plan-card-modern:hover {
        border-color: var(--primary);
        background: #f8fafc;
      }

      .plan-card-modern.active {
        border-color: var(--primary);
        background: #eef2ff;
        box-shadow: 0 0 0 4px rgba(67,97,238,0.1);
      }

      .plan-name {
        font-size: 0.9rem;
        font-weight: 700;
        color: var(--dark);
        margin-bottom: 0.5rem;
        display: block;
      }

      .plan-price {
        font-size: 1.4rem;
        font-weight: 800;
        color: var(--dark);
        display: block;
      }

      .plan-badge-popular {
        position: absolute;
        top: -10px;
        right: 10px;
        background: #f97316;
        color: white;
        font-size: 0.65rem;
        font-weight: 800;
        padding: 0.25rem 0.75rem;
        border-radius: 100px;
        letter-spacing: 0.5px;
      }

      .final-steps-compact {
        background: var(--lighter);
        border-radius: var(--radius-xl);
        padding: 1.25rem;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-around;
        border: 1px solid var(--light);
      }

      .final-step-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
      }

      .final-step-marker {
        width: 2.25rem;
        height: 2.25rem;
        background: white;
        border: 2px solid var(--primary);
        color: var(--primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        font-size: 0.9rem;
      }

      .final-step-item span {
        font-size: 0.75rem;
        color: var(--gray);
        font-weight: 600;
      }

      .final-step-item i {
        color: #10b981;
        font-size: 0.9rem;
      }

      .payment-form-enhanced {
        background: white;
        border-radius: var(--radius-2xl);
        padding: 1.5rem;
        border: 1px solid var(--light);
        margin-bottom: 1rem;
      }

      .form-header-enhanced {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .form-header-enhanced i {
        font-size: 2rem;
        color: var(--primary);
      }

      .form-header-enhanced h3 {
        font-size: 1.2rem;
        font-weight: 800;
        color: var(--dark);
        margin: 0;
      }

      .form-header-enhanced p {
        color: var(--gray);
        font-size: 0.8rem;
        margin: 0.25rem 0 0 0;
      }

      .input-group-modern {
        margin-bottom: 1.25rem;
      }

      .input-group-modern label {
        display: block;
        font-size: 0.8rem;
        font-weight: 700;
        color: var(--gray);
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .input-with-icon-modern {
        position: relative;
      }

      .input-with-icon-modern i {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray-lighter);
        font-size: 1rem;
        z-index: 1;
      }

      .input-with-icon-modern input,
      .input-with-icon-modern select {
        width: 100%;
        padding: 0.875rem 0.875rem 0.875rem 2.75rem;
        border: 2px solid var(--light);
        border-radius: var(--radius-lg);
        font-size: 0.95rem;
        background: white;
        transition: all 0.2s;
      }

      .input-with-icon-modern input:focus,
      .input-with-icon-modern select:focus {
        border-color: var(--primary);
        outline: none;
        box-shadow: 0 0 0 4px rgba(67,97,238,0.1);
      }

      .input-with-icon-modern select {
        appearance: none;
        padding-right: 2.5rem;
      }

      .select-arrow {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray);
        pointer-events: none;
      }

      .help-text-modern {
        display: block;
        font-size: 0.75rem;
        color: var(--gray-light);
        margin-top: 0.5rem;
        margin-left: 0.75rem;
      }

      .terms-modern {
        display: flex;
        align-items: flex-start;
        gap: 0.875rem;
        margin: 1.5rem 0;
        padding: 1rem;
        background: var(--lighter);
        border-radius: var(--radius-lg);
        border: 1px solid var(--light);
      }

      .terms-modern input[type="checkbox"] {
        width: 1.25rem;
        height: 1.25rem;
        margin-top: 0.125rem;
        accent-color: var(--primary);
        border-radius: 0.25rem;
      }

      .terms-modern label {
        font-size: 0.9rem;
        color: var(--gray-dark);
        line-height: 1.5;
      }

      .terms-modern strong {
        color: var(--dark);
        background: white;
        padding: 0.125rem 0.5rem;
        border-radius: 0.25rem;
        border: 1px solid var(--light);
      }

      .submit-btn-modern {
        width: 100%;
        background: linear-gradient(145deg, var(--primary), var(--primary-dark));
        color: white;
        border: none;
        padding: 1rem;
        border-radius: var(--radius-lg);
        font-weight: 700;
        font-size: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        cursor: pointer;
        transition: all 0.2s;
        border: 1px solid rgba(255,255,255,0.2);
      }

      .submit-btn-modern:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 20px -8px rgba(67,97,238,0.5);
      }

      .whatsapp-support-modern {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        padding: 1rem;
        background: #f0fdf4;
        border-radius: 100px;
        color: #166534;
        font-size: 0.9rem;
        margin-top: 1rem;
        border: 1px solid #86efac;
      }

      .whatsapp-support-modern i {
        color: #25d366;
        font-size: 1.2rem;
      }

      .back-btn-modern {
        width: 100%;
        background: white;
        color: var(--gray);
        border: 2px solid var(--light);
        padding: 0.875rem;
        border-radius: var(--radius-lg);
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
        margin-top: 0.5rem;
      }

      .back-btn-modern:hover {
        background: var(--lighter);
        border-color: var(--gray-lighter);
        color: var(--dark);
      }

      .success-icon-circle {
        width: 5rem;
        height: 5rem;
        background: #10b981;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
      }

      .success-icon-circle i {
        color: white;
        font-size: 2.5rem;
      }

      /* ============ BUTTONS ============ */
      .auth-btn {
        width: 100%;
        padding: 0.875rem 1.5rem;
        border: none;
        border-radius: var(--radius-lg);
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        transition: all 0.2s;
      }

      .auth-btn.primary {
        background: linear-gradient(145deg, var(--primary), var(--primary-dark));
        color: white;
      }

      .auth-btn.secondary {
        background: white;
        color: var(--dark);
        border: 2px solid var(--light);
      }

      .auth-btn.next-btn {
        background: var(--primary);
        color: white;
        margin-top: 0.5rem;
      }

      .play-button {
        width: 100%;
        background: linear-gradient(145deg, var(--primary), var(--primary-dark));
        color: white;
        border: none;
        padding: 0.75rem;
        border-radius: 100px;
        font-weight: 700;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        cursor: pointer;
        transition: all 0.2s;
      }

      .cta-button {
        display: inline-block;
        background: white;
        color: var(--primary);
        padding: 0.875rem 2rem;
        border-radius: 100px;
        text-decoration: none;
        font-weight: 700;
        margin-top: 1rem;
        transition: all 0.2s;
      }

      .cta-button:hover {
        transform: scale(1.05);
        box-shadow: var(--shadow-lg);
      }

      /* ============ GAMES GRID ============ */
      .games-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
        margin: 2rem 0;
      }

      .game-card {
        background: white;
        border-radius: var(--radius-xl);
        padding: 1.5rem;
        box-shadow: var(--shadow-md);
        border: 1px solid var(--light);
        display: flex;
        flex-direction: column;
        height: 100%;
        transition: all 0.2s;
      }

      .game-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-xl);
      }

      .game-icon {
        width: 4rem;
        height: 4rem;
        background: linear-gradient(145deg, #f8fafc, #e2e8f0);
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
      }

      .game-icon i {
        font-size: 2rem;
        color: var(--primary);
      }

      .game-title {
        font-size: 1.25rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
        color: var(--dark);
      }

      .game-description {
        color: var(--gray);
        font-size: 0.9rem;
        line-height: 1.6;
        margin-bottom: 1rem;
        flex-grow: 1;
      }

      .game-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1.25rem;
      }

      .tag {
        background: var(--lighter);
        padding: 0.25rem 0.75rem;
        border-radius: 100px;
        font-size: 0.7rem;
        font-weight: 700;
        color: var(--gray);
        border: 1px solid var(--light);
      }

      /* ============ ROLE CARDS ============ */
      .role-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.5rem;
        margin: 2rem 0;
      }

      .role-card {
        background: var(--lighter);
        border: 1px solid var(--light);
        border-radius: var(--radius-xl);
        padding: 2rem 1.5rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
      }

      .role-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
        border-color: var(--primary);
      }

      .role-icon {
        font-size: 3rem;
        color: var(--primary);
        margin-bottom: 1rem;
      }

      .role-benefits {
        list-style: none;
        padding: 0;
        margin: 1.5rem 0;
        text-align: left;
      }

      .role-benefits li {
        padding: 0.5rem 0;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 0.9rem;
        color: var(--gray);
      }

      .role-benefits i {
        color: #10b981;
      }

      .role-btn {
        width: 100%;
        padding: 0.75rem;
        border: none;
        border-radius: 100px;
        font-weight: 700;
        cursor: pointer;
        background: var(--primary);
        color: white;
        transition: all 0.2s;
      }

      .role-btn:hover {
        background: var(--primary-dark);
      }

      /* ============ FOOTER ============ */
      .footer {
        background: #0f172a;
        color: white;
        padding: 3rem 0 1.5rem;
        margin-top: 4rem;
      }

      .footer-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2.5rem;
        margin-bottom: 2.5rem;
      }

      .footer-section h3 {
        font-size: 1.1rem;
        margin-bottom: 1.25rem;
        color: white;
        font-weight: 700;
      }

      .footer-section ul {
        list-style: none;
        padding: 0;
      }

      .footer-section li {
        margin-bottom: 0.75rem;
      }

      .footer-section a {
        color: #cbd5e1;
        text-decoration: none;
        font-size: 0.9rem;
        transition: color 0.2s;
      }

      .footer-section a:hover {
        color: white;
      }

      .footer-bottom {
        text-align: center;
        padding-top: 1.5rem;
        border-top: 1px solid #1e293b;
        color: #94a3b8;
        font-size: 0.85rem;
      }

      /* ============ HEADER & NAVIGATION ============ */
      .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--dark);
        cursor: pointer;
      }

      .header {
        background: white;
        box-shadow: var(--shadow-md);
        position: sticky;
        top: 0;
        z-index: 9999;
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 0;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--primary);
      }

      .nav-menu {
        display: flex;
        list-style: none;
        gap: 1.5rem;
        align-items: center;
      }

      .nav-menu a {
        text-decoration: none;
        color: var(--dark);
        font-weight: 600;
        transition: color 0.2s;
      }

      .nav-menu a:hover {
        color: var(--primary);
      }

      .plus-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: linear-gradient(145deg, var(--primary), var(--primary-dark));
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 100px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s;
      }

      .plus-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 1.5rem;
        width: 100%;
      }

      .uppercase {
        text-transform: uppercase;
      }

      /* ============ RESPONSIVE ============ */
      @media (max-width: 768px) {
        .landing-logo h1 {
          font-size: 2.5rem;
        }
        
        .pricing-card.featured {
          transform: scale(1);
        }
        
        .action-links-grid {
          grid-template-columns: 1fr;
        }
        
        .role-options {
          grid-template-columns: 1fr;
        }
        
        .steps-row {
          flex-direction: column;
          align-items: stretch;
        }
        
        .step-chip {
          width: 100%;
          justify-content: center;
        }
        
        .step-arrow {
          transform: rotate(90deg);
          margin: 0.25rem 0;
        }
        
        .plan-grid-enhanced {
          grid-template-columns: 1fr;
        }
        
        .final-steps-compact {
          flex-direction: column;
          align-items: flex-start;
          gap: 1rem;
        }
        
        .final-step-item {
          flex-direction: row;
          width: 100%;
          justify-content: space-between;
        }
        
        .auth-modal-content {
          margin: 1rem auto;
          width: calc(100% - 2rem);
        }
        
        .nav-menu {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          right: 0;
          background: white;
          flex-direction: column;
          padding: 1.5rem;
          box-shadow: var(--shadow-xl);
          z-index: 9999;
        }
        
        .nav-menu.active {
          display: flex;
        }
        
        .mobile-menu-toggle {
          display: block !important;
        }
      }

      @media (max-width: 480px) {
        .auth-step {
          padding: 1.5rem;
        }
        
        .till-number-large {
          font-size: 2rem;
          letter-spacing: 4px;
        }
        
        .games-grid {
          grid-template-columns: 1fr;
        }
        
        .footer-content {
          grid-template-columns: 1fr;
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <!-- Landing Page / Sign In Gate -->
    <div id="landing-page" class="landing-page">
      <div class="landing-container">
        <div class="landing-content">
          <div class="landing-header">
            <div class="landing-logo">
              <i class="fas fa-graduation-cap logo-icon"></i>
              <h1>Shule AI Plus +</h1>
            </div>
            <p class="landing-tagline">Gamified Learning for CBC Curriculum</p>
          </div>

          <div class="landing-features">
            <div class="feature-card">
              <i class="fas fa-gamepad feature-icon"></i>
              <h3>54+ Educational Games</h3>
              <p>Interactive games aligned with CBC curriculum</p>
            </div>
            <div class="feature-card">
              <i class="fas fa-layer-group feature-icon"></i>
              <h3>All Subjects Covered</h3>
              <p>Mathematics, Science, English, Kiswahili & more</p>
            </div>
            <div class="feature-card">
              <i class="fas fa-chart-line feature-icon"></i>
              <h3>Track Progress</h3>
              <p>Monitor learning achievements and improvements</p>
            </div>
          </div>

          <div class="pricing-section">
            <h2>Choose Your Plan</h2>
            <div class="pricing-cards">
              <div class="pricing-card">
                <h3>Weekly Access</h3>
                <div class="price">KES 200</div>
                <ul class="features-list">
                  <li><i class="fas fa-check-circle"></i> Access all games</li>
                  <li><i class="fas fa-check-circle"></i> All subjects included</li>
                  <li><i class="fas fa-check-circle"></i> 7 days full access</li>
                  <li><i class="fas fa-check-circle"></i> Progress tracking</li>
                </ul>
              </div>
              <div class="pricing-card featured">
                <div class="popular-badge">Most Popular</div>
                <h3>Monthly Access</h3>
                <div class="price">KES 600</div>
                <ul class="features-list">
                  <li><i class="fas fa-check-circle"></i> Access all games</li>
                  <li><i class="fas fa-check-circle"></i> All subjects included</li>
                  <li><i class="fas fa-check-circle"></i> 30 days full access</li>
                  <li><i class="fas fa-check-circle"></i> Progress tracking</li>
                  <li><i class="fas fa-check-circle"></i> Priority support</li>
                </ul>
              </div>
              <div class="pricing-card">
                <h3>Termly Access</h3>
                <div class="price">KES 1650</div>
                <ul class="features-list">
                  <li><i class="fas fa-check-circle"></i> Access all games</li>
                  <li><i class="fas fa-check-circle"></i> All subjects included</li>
                  <li><i class="fas fa-check-circle"></i> 90 days full access</li>
                  <li><i class="fas fa-check-circle"></i> Progress tracking</li>
                  <li><i class="fas fa-check-circle"></i> Priority support</li>
                  <li><i class="fas fa-check-circle"></i> Certificates</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="cta-section">
            <button class="signin-cta-btn" onclick="openSignInModal()">
              <span>Sign In to Get Started</span>
              <i class="fas fa-arrow-right"></i>
            </button>
            <p class="signin-note">
              Already have an access code? Sign in to continue learning
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- SIGN IN MODAL - 2 STEP WITH WORKING LINKS -->
    <div id="signInModal" class="auth-modal">
      <div class="auth-modal-content">
        <span class="auth-close" onclick="closeSignInModal()">&times;</span>

        <!-- STEP 1: CREDENTIALS -->
        <div id="signInStep1" class="auth-step active">
          <div class="auth-header">
            <div class="step-indicator">
              <span class="step active">1</span>
              <span class="step-line"></span>
              <span class="step">2</span>
            </div>
            <h2><i class="fas fa-sign-in-alt"></i> Sign In</h2>
            <p>Enter your credentials</p>
          </div>

          <form id="signInStep1Form" class="auth-form" onsubmit="event.preventDefault(); goToStep2();">
            <div class="form-group floating-label-group">
              <input type="text" id="phoneOrEmail" name="phoneOrEmail" placeholder=" " required />
              <label for="phoneOrEmail">Phone Number or Email</label>
              <i class="fas fa-user input-icon"></i>
            </div>

            <div class="form-group floating-label-group">
              <input type="text" id="accessCode" name="accessCode" placeholder=" " required />
              <label for="accessCode">Access Code</label>
              <i class="fas fa-key input-icon"></i>
            </div>

            <div class="special-code-badge">
              <i class="fas fa-ticket-alt"></i>
              <span>Have a SPECIAL-XXXXX code? Enter it above for 2 days free!</span>
            </div>

            <!-- ACTION LINKS GRID - DIRECT ONCLICK FUNCTIONS -->
            <div class="action-links-grid">
              <button type="button" onclick="window.requestNewCodeFunction()" class="action-link-btn">
                <i class="fas fa-redo-alt"></i>
                <span>Code expired? Request new</span>
              </button>
              <button type="button" onclick="window.openPaymentModal()" class="action-link-btn highlight">
                <i class="fas fa-credit-card"></i>
                <span>No code? View payment</span>
              </button>
            </div>

            <button type="submit" class="auth-btn next-btn">
              <span>Continue</span>
              <i class="fas fa-arrow-right"></i>
            </button>
          </form>
        </div>

        <!-- STEP 2: VERIFICATION -->
        <div id="signInStep2" class="auth-step">
          <div class="auth-header">
            <div class="step-indicator">
              <span class="step completed" onclick="goToStep1()">
                <i class="fas fa-check"></i>
              </span>
              <span class="step-line"></span>
              <span class="step active">2</span>
            </div>
            <h2><i class="fas fa-shield-alt"></i> Verify Access</h2>
            <p id="verificationContext">Confirm your details</p>
          </div>

          <div class="verification-card">
            <div class="user-preview">
              <div class="user-avatar">
                <i class="fas fa-user-circle"></i>
              </div>
              <div class="user-details" id="userDetailsPreview">
                <span class="user-contact">user@example.com</span>
                <span class="code-preview">••••••</span>
              </div>
            </div>

            <div class="code-status" id="codeStatus">
              <i class="fas fa-clock"></i>
              <div class="status-text">
                <strong>Standard Access</strong>
                <span>6-digit code • Valid for 30 days</span>
              </div>
            </div>

            <div class="verification-actions">
              <button onclick="goToStep1()" class="auth-btn secondary">
                <i class="fas fa-chevron-left"></i> Back
              </button>
              <button onclick="submitSignIn()" class="auth-btn primary">
                Sign In <i class="fas fa-sign-in-alt"></i>
              </button>
            </div>
          </div>

          <!-- STEP 2 PAYMENT LINK -->
          <div class="step2-payment-redirect">
            <i class="fas fa-credit-card"></i>
            <span>Need a code?</span>
            <button type="button" onclick="window.openPaymentModal()" class="payment-redirect-btn">
              View payment options →
            </button>
          </div>
        </div>

        <!-- CODE REQUEST STEP -->
        <div id="verifyCodeStep" class="auth-step">
          <div class="auth-header">
            <div class="success-icon-circle" style="background: var(--primary);">
              <i class="fas fa-paper-plane"></i>
            </div>
            <h2>Code Request Sent</h2>
            <p>Admin will review within minutes</p>
          </div>

          <div class="notification-card" style="background: var(--lighter); border-radius: var(--radius-xl); padding: 1.5rem; margin: 1.5rem 0; border: 1px solid var(--light);">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <i class="fas fa-envelope-open-text" style="font-size: 2rem; color: var(--primary);"></i>
              <div>
                <strong style="display: block; color: var(--dark);">Check your inbox</strong>
                <span style="color: var(--gray); font-size: 0.9rem;">We'll send the new code to your email/SMS</span>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 0.75rem; padding-top: 0.75rem; border-top: 1px dashed var(--light);">
              <i class="fas fa-hourglass-half" style="color: var(--gray);"></i>
              <span style="color: var(--gray); font-size: 0.85rem;">Usually takes 2-3 minutes</span>
            </div>
          </div>

          <div style="display: flex; flex-direction: column; gap: 1rem;">
            <button onclick="backToSignIn()" class="auth-btn secondary">
              <i class="fas fa-arrow-left"></i> Back to Sign In
            </button>
            <button type="button" onclick="window.openPaymentModal()" class="purchase-code-btn">
              Or purchase a code <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- PAYMENT MODAL-->
    <div id="paymentInfoModal" class="auth-modal">
      <div class="auth-modal-content">
        <span class="auth-close" onclick="closePaymentModal()">&times;</span>

        <!-- PAYMENT STEP -->
        <div id="paymentInfoStep" class="auth-step active">
          <div class="auth-header">
            <h2><i class="fas fa-credit-card"></i> Submit Payment Information</h2>
            <p>Complete payment and submit your details below</p>
          </div>

          <!-- TILL NUMBER CARD -->
          <div class="till-card-enhanced">
            <div class="till-label">PAY TO TILL NUMBER</div>
            <div class="till-number-large">5628512</div>
            <div class="business-badge">
              <i class="fas fa-store"></i>
              <span>MemeyAI Digital Solutions</span>
            </div>
          </div>

          <!-- HOW TO PAY - HORIZONTAL FLOW -->
          <div class="steps-flow-enhanced">
            <div class="flow-header">
              <i class="fas fa-mobile-alt"></i>
              <span>How to Pay via M-Pesa</span>
            </div>
            <div class="steps-row">
              <div class="step-chip">
                <span class="step-num">1</span>
                <span>M-Pesa</span>
              </div>
              <div class="step-arrow"><i class="fas fa-chevron-right"></i></div>
              <div class="step-chip">
                <span class="step-num">2</span>
                <span>Lipa na M-Pesa</span>
              </div>
              <div class="step-arrow"><i class="fas fa-chevron-right"></i></div>
              <div class="step-chip">
                <span class="step-num">3</span>
                <span>Buy Goods</span>
              </div>
              <div class="step-arrow"><i class="fas fa-chevron-right"></i></div>
              <div class="step-chip">
                <span class="step-num">4</span>
                <span>Enter Till</span>
              </div>
            </div>
          </div>

          <!-- PLAN SELECTION - 3 COLUMN -->
          <div class="plan-grid-enhanced">
            <div class="plan-card-modern" onclick="selectPaymentPlan('weekly', this)">
              <span class="plan-name">Weekly</span>
              <span class="plan-price">KES 200</span>
            </div>
            <div class="plan-card-modern active" onclick="selectPaymentPlan('monthly', this)">
              <span class="plan-name">Monthly</span>
              <span class="plan-price">KES 600</span>
              <span class="plan-badge-popular">Popular</span>
            </div>
            <div class="plan-card-modern" onclick="selectPaymentPlan('termly', this)">
              <span class="plan-name">Termly</span>
              <span class="plan-price">KES 1650</span>
            </div>
          </div>

          <!-- PIN & SMS CONFIRMATION -->
          <div class="final-steps-compact">
            <div class="final-step-item">
              <div class="final-step-marker">5</div>
              <span>Enter PIN</span>
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="final-step-item">
              <div class="final-step-marker">6</div>
              <span>Confirmation SMS</span>
              <i class="fas fa-sms"></i>
            </div>
            <div class="final-step-item">
              <div class="final-step-marker">7</div>
              <span>Submit Code Below</span>
              <i class="fas fa-arrow-down"></i>
            </div>
          </div>

          <!-- PAYMENT FORM -->
          <div class="payment-form-enhanced">
            <div class="form-header-enhanced">
              <i class="fas fa-clipboard-list"></i>
              <div>
                <h3>Submit Your Payment Details</h3>
                <p>We'll verify within 24 hours</p>
              </div>
            </div>

            <form id="paymentSubmissionForm" onsubmit="event.preventDefault(); submitPaymentDetails();">
              <div class="input-group-modern">
                <label for="paymentFullName">Full Name *</label>
                <div class="input-with-icon-modern">
                  <i class="fas fa-user"></i>
                  <input type="text" id="paymentFullName" name="fullName" placeholder="Enter your full name" required />
                </div>
              </div>

              <div class="input-group-modern">
                <label for="paymentEmail">Email Address *</label>
                <div class="input-with-icon-modern">
                  <i class="fas fa-envelope"></i>
                  <input type="email" id="paymentEmail" name="email" placeholder="your@email.com" required />
                </div>
              </div>

              <div class="input-group-modern">
                <label for="paymentPhone">M-Pesa Phone Number *</label>
                <div class="input-with-icon-modern">
                  <i class="fas fa-phone-alt"></i>
                  <input type="tel" id="paymentPhone" name="phone" placeholder="0712345678 or 254712345678" required />
                </div>
                <small class="help-text-modern">Must match your M-Pesa registered number</small>
              </div>

              <div class="input-group-modern">
                <label for="transactionCode">M-Pesa Transaction Code *</label>
                <div class="input-with-icon-modern">
                  <i class="fas fa-hashtag"></i>
                  <input type="text" id="transactionCode" name="transactionCode" placeholder="e.g., ABC1234XYZ" required class="uppercase" style="text-transform: uppercase;" />
                </div>
                <small class="help-text-modern">From your M-Pesa confirmation SMS</small>
              </div>

              <div class="input-group-modern">
                <label for="planType">Subscription Plan *</label>
                <div class="input-with-icon-modern">
                  <i class="fas fa-calendar-alt"></i>
                  <select id="planType" name="planType" required>
                    <option value="">Select a plan</option>
                    <option value="weekly">Weekly Access - KES 200</option>
                    <option value="monthly">Monthly Access - KES 600</option>
                    <option value="termly">Termly Access - KES 1650</option>
                  </select>
                  <i class="fas fa-chevron-down select-arrow"></i>
                </div>
              </div>

              <div class="terms-modern">
                <input type="checkbox" id="paymentTermsConfirm" required />
                <label for="paymentTermsConfirm">
                  I confirm that I have paid the exact amount to Till Number <strong>5628512</strong> and agree to the 
                  <a href="#" style="color: var(--primary); text-decoration: none; font-weight: 700;">Terms of Service</a>
                </label>
              </div>

              <button type="submit" class="submit-btn-modern">
                <span>Submit Payment Information</span>
                <i class="fas fa-arrow-right"></i>
              </button>
            </form>

            <div class="whatsapp-support-modern">
              <i class="fab fa-whatsapp"></i>
              <span>Need immediate activation? <strong>+254 111 579 473</strong></span>
            </div>
          </div>

          <button class="back-btn-modern" onclick="backToSignInFromPayment()">
            <i class="fas fa-arrow-left"></i>
            Back to Sign In
          </button>
        </div>

        <!-- PAYMENT SUCCESS STEP -->
        <div id="paymentSuccessStep" class="auth-step" style="display: none;">
          <div class="auth-header">
            <div class="success-icon-circle">
              <i class="fas fa-check"></i>
            </div>
            <h2 style="color: #10b981; margin-top: 1rem;">Payment Submitted!</h2>
            <p style="color: var(--gray);">Your payment details have been recorded.</p>
          </div>

          <div style="background: #f0fdf4; border-radius: var(--radius-xl); padding: 1.5rem; margin: 1.5rem 0; border: 1px solid #86efac;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <i class="fas fa-clock" style="color: #16a34a; font-size: 1.5rem;"></i>
              <div>
                <strong style="color: #166534; display: block;">Verification in Progress</strong>
                <span style="color: #166534; font-size: 0.9rem;">We'll verify your payment within 24 hours</span>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
              <i class="fas fa-envelope" style="color: #16a34a; font-size: 1.5rem;"></i>
              <div>
                <strong style="color: #166534; display: block;">Confirmation Email Sent</strong>
                <span style="color: #166534; font-size: 0.9rem;" id="successEmailDisplay">Check your inbox</span>
              </div>
            </div>
          </div>

          <button onclick="closePaymentModal(); openSignInModal();" class="submit-btn-modern" style="background: #1e293b;">
            <i class="fas fa-sign-in-alt"></i>
            <span>Return to Sign In</span>
          </button>
        </div>
      </div>
    </div>

    <!-- PLUS MODAL (Tutor Registration) -->
    <div id="plusModal" class="auth-modal">
      <div class="auth-modal-content">
        <span class="auth-close" onclick="closePlusModal()">&times;</span>

        <div id="roleSelectionStep" class="auth-step active">
          <div class="auth-header">
            <h2><i class="fas fa-users"></i> Join as Tutor or Learner</h2>
            <p>Choose how you'd like to get started</p>
          </div>

          <div class="role-options">
            <div class="role-card" onclick="selectRole('tutor')">
              <i class="fas fa-chalkboard-teacher role-icon"></i>
              <h3>I'm a Tutor</h3>
              <p>Share your knowledge and earn</p>
              <ul class="role-benefits">
                <li><i class="fas fa-check"></i> Create profile</li>
                <li><i class="fas fa-check"></i> Set availability</li>
                <li><i class="fas fa-check"></i> Connect with students</li>
              </ul>
              <button class="role-btn">Join as Tutor</button>
            </div>
            <div class="role-card" onclick="selectRole('student')">
              <i class="fas fa-user-graduate role-icon"></i>
              <h3>I Need a Tutor</h3>
              <p>Find qualified tutors</p>
              <ul class="role-benefits">
                <li><i class="fas fa-check"></i> Browse profiles</li>
                <li><i class="fas fa-check"></i> Book sessions</li>
                <li><i class="fas fa-check"></i> Learn at your pace</li>
              </ul>
              <button class="role-btn">Request Tutor</button>
            </div>
          </div>
        </div>

        <div id="successStep" class="auth-step">
          <div class="auth-header">
            <div class="success-icon-circle" style="background: #10b981;">
              <i class="fas fa-check"></i>
            </div>
            <h2 id="successTitle" style="margin-top: 1rem;">Success!</h2>
            <p id="successMessage" style="color: var(--gray);">Your request has been submitted successfully.</p>
          </div>
          <button class="auth-btn primary" onclick="closePlusModal()" style="margin-top: 1rem;">Continue</button>
        </div>
      </div>
    </div>

    <!-- MAIN APP (Hidden until signed in) -->
    <div id="mainApp" style="display: none;">
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="logo">Shule AI Plus +</div>
            <nav class="nav-container">
              <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
              </button>
              <ul class="nav-menu">
                <li><a href="#home">Home</a></li>
                <li><a href="#subjects">Subjects</a></li>
                <li><a href="#games">Games</a></li>
                <li>
                  <button class="plus-btn" onclick="openPlusModal()">
                    <i class="fas fa-plus-circle"></i>
                    <span class="plus-text">Join/Request</span>
                  </button>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </header>

      <main class="container">
        <div id="home-page" class="page-content active">
          <section class="hero-section">
            <h1 class="hero-title" style="font-size: 2.5rem; font-weight: 800; color: var(--dark); margin-bottom: 1rem;">Gamified Learning for CBC</h1>
            <p class="hero-text" style="font-size: 1.1rem; color: var(--gray); margin-bottom: 1.5rem;">Master skills through play with curriculum-aligned games</p>
            <a href="games/mathgames/math_adventure_webgame (3) (1).html" class="cta-button" style="display: inline-block; background: var(--primary); color: white; padding: 0.875rem 2rem; border-radius: 100px; text-decoration: none; font-weight: 700;">
              Start Playing <i class="fas fa-play"></i>
            </a>
          </section>

          <div class="games-header" style="display: flex; justify-content: space-between; align-items: center; margin: 2rem 0 1.5rem;">
            <div class="games-count" style="font-weight: 700; color: var(--dark);"><i class="fas fa-gamepad" style="margin-right: 0.5rem;"></i> 48+ Games</div>
            <div class="sort-controls">
              <select class="sort-select" style="padding: 0.5rem 1rem; border: 2px solid var(--light); border-radius: 100px; background: white; font-weight: 600;">
                <option>Most Popular</option>
                <option>Newest</option>
              </select>
            </div>
          </div>

          <div class="games-grid">
            <div class="game-card">
              <div class="game-icon"><i class="fas fa-calculator"></i></div>
              <h3 class="game-title">Hisabati Safari</h3>
              <p class="game-description">Addition & subtraction with safari animals</p>
              <div class="game-tags">
                <span class="tag">Grade 1-3</span>
                <span class="tag">Math</span>
              </div>
              <button class="play-button" onclick="playGame('Hisabati Safari', 'games/mathgames/safari_math_game (3).html')">
                Play <i class="fas fa-arrow-right"></i>
              </button>
            </div>
            <div class="game-card">
              <div class="game-icon"><i class="fas fa-times"></i></div>
              <h3 class="game-title">Multiplication Maasai</h3>
              <p class="game-description">Times tables with cultural elements</p>
              <div class="game-tags">
                <span class="tag">Grade 3-5</span>
                <span class="tag">Math</span>
              </div>
              <button class="play-button" onclick="playGame('Multiplication Maasai', 'games/mathgames/maasai_multiplication_game (1).html')">
                Play <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="footer-content">
            <div class="footer-section">
              <h3>Shule AI Plus +</h3>
              <p style="color: #94a3b8;">Gamified CBC learning platform</p>
            </div>
            <div class="footer-section">
              <h3>Quick Links</h3>
              <ul>
                <li><a href="#games">Games</a></li>
                <li><a href="#subjects">Subjects</a></li>
                <li><a href="#" onclick="openPlusModal(); return false;">Join as Tutor</a></li>
              </ul>
            </div>
            <div class="footer-section">
              <h3>Support</h3>
              <ul>
                <li><a href="#" onclick="window.openPaymentModal(); return false;">Payments</a></li>
                <li><a href="#">Contact</a></li>
              </ul>
            </div>
          </div>
          <div class="footer-bottom">
            <p>© 2025 ChezaAI. All rights reserved.</p>
          </div>
        </div>
      </footer>
    </div>

    <!-- ADDITIONAL STYLES FOR PAYMENT CALLOUT -->
    <style>
      .payment-callout-single {
        background: linear-gradient(145deg, #fef9c3, #fef08a);
        border-left: 4px solid #eab308;
        border-radius: var(--radius-lg);
        padding: 0.875rem 1.25rem;
        margin: 1.25rem 0 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.5rem;
        font-size: 0.95rem;
      }

      .payment-callout-single i {
        color: #b45309;
        font-size: 1rem;
      }

      .payment-callout-single span {
        color: #92400e;
        font-weight: 500;
      }

      .payment-link-single {
        background: none;
        border: none;
        color: #4338ca;
        font-weight: 700;
        font-size: 0.95rem;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
        padding: 0;
        margin: 0;
        font-family: inherit;
      }

      .payment-link-single:hover {
        border-bottom-color: #4338ca;
      }

      .payment-link-single i {
        color: #4338ca;
        font-size: 0.8rem;
      }

      @media (max-width: 480px) {
        .payment-callout-single {
          flex-direction: row;
          text-align: center;
          padding: 0.75rem 1rem;
        }
      }
    </style>

    <!-- JAVASCRIPT-->
    <script>
      // ============ BODY SCROLL LOCK ============
      function lockBodyScroll() {
        document.body.classList.add('modal-open');
      }

      function unlockBodyScroll() {
        document.body.classList.remove('modal-open');
      }

      // ============ GLOBAL PAYMENT FUNCTION ============
      window.openPaymentModal = function() {
        console.log('✅ Payment modal opened');
        
        // Close any open modals
        const signInModal = document.getElementById('signInModal');
        if (signInModal) signInModal.style.display = 'none';
        
        const plusModal = document.getElementById('plusModal');
        if (plusModal) plusModal.style.display = 'none';
        
        // Reset payment form
        const paymentForm = document.getElementById('paymentSubmissionForm');
        if (paymentForm) paymentForm.reset();
        
        // Show payment step
        document.getElementById('paymentSuccessStep').style.display = 'none';
        document.getElementById('paymentInfoStep').style.display = 'block';
        
        // Show modal and lock scroll
        document.getElementById('paymentInfoModal').style.display = 'block';
        lockBodyScroll();
        
        return false;
      };

      window.closePaymentModal = function() {
        document.getElementById('paymentInfoModal').style.display = 'none';
        unlockBodyScroll();
      };

      window.requestNewCodeFunction = function() {
        const modal = document.getElementById('signInModal');
        if (modal) {
          document.querySelectorAll('#signInModal .auth-step').forEach(el => el.classList.remove('active'));
          document.getElementById('verifyCodeStep').classList.add('active');
        }
        return false;
      };

      // ============ SIGN IN MODAL ============
      window.openSignInModal = function() {
        document.getElementById('signInModal').style.display = 'block';
        lockBodyScroll();
        goToStep1();
      };

      window.closeSignInModal = function() {
        document.getElementById('signInModal').style.display = 'none';
        unlockBodyScroll();
      };

      function goToStep1() {
        document.querySelectorAll('#signInModal .auth-step').forEach(el => el.classList.remove('active'));
        document.getElementById('signInStep1').classList.add('active');
      }

      function goToStep2() {
        const phoneOrEmail = document.getElementById('phoneOrEmail').value || 'user@example.com';
        const accessCode = document.getElementById('accessCode').value || '••••••';
        
        document.getElementById('userDetailsPreview').innerHTML = `
          <span class="user-contact">${phoneOrEmail}</span>
          <span class="code-preview">${'•'.repeat(6)}</span>
        `;
        
        const isSpecial = document.getElementById('accessCode').value?.startsWith('SPECIAL-');
        const statusEl = document.getElementById('codeStatus');
        
        if (isSpecial) {
          statusEl.innerHTML = `
            <i class="fas fa-gift" style="color: #f97316;"></i>
            <div class="status-text">
              <strong>Special Access</strong>
              <span>2 days free • Valid immediately</span>
            </div>
          `;
        } else {
          statusEl.innerHTML = `
            <i class="fas fa-clock" style="color: #4361ee;"></i>
            <div class="status-text">
              <strong>Standard Access</strong>
              <span>6-digit code • Valid for 30 days</span>
            </div>
          `;
        }
        
        document.querySelectorAll('#signInModal .auth-step').forEach(el => el.classList.remove('active'));
        document.getElementById('signInStep2').classList.add('active');
      }

      function submitSignIn() {
        alert('Welcome back! Redirecting to dashboard...');
        closeSignInModal();
        document.getElementById('landing-page').style.display = 'none';
        document.getElementById('mainApp').style.display = 'block';
      }

      function backToSignIn() {
        goToStep1();
      }

      // ============ PAYMENT FUNCTIONS ============
      function backToSignInFromPayment() {
        closePaymentModal();
        openSignInModal();
      }

      function selectPaymentPlan(plan, element) {
        document.querySelectorAll('.plan-card-modern').forEach(card => {
          card.classList.remove('active');
        });
        
        if (element) {
          element.classList.add('active');
        }
        
        const planSelect = document.getElementById('planType');
        if (planSelect) planSelect.value = plan;
      }

      function submitPaymentDetails() {
        const form = document.getElementById('paymentSubmissionForm');
        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }
        
        const email = document.getElementById('paymentEmail').value;
        document.getElementById('successEmailDisplay').innerHTML = `Confirmation sent to ${email}`;
        
        document.getElementById('paymentInfoStep').style.display = 'none';
        document.getElementById('paymentSuccessStep').style.display = 'block';
      }

      // ============ PLUS MODAL ============
      window.openPlusModal = function() {
        document.getElementById('plusModal').style.display = 'block';
        lockBodyScroll();
        document.querySelectorAll('#plusModal .auth-step').forEach(el => el.classList.remove('active'));
        document.getElementById('roleSelectionStep').classList.add('active');
      };

      window.closePlusModal = function() {
        document.getElementById('plusModal').style.display = 'none';
        unlockBodyScroll();
      };

      function selectRole(role) {
        document.querySelectorAll('#plusModal .auth-step').forEach(el => el.classList.remove('active'));
        document.getElementById('successStep').classList.add('active');
        document.getElementById('successTitle').innerText = role === 'tutor' ? 'Tutor Application Sent' : 'Tutor Request Sent';
        document.getElementById('successMessage').innerText = role === 'tutor' 
          ? 'We\'ll review your application within 24 hours' 
          : 'We\'ll match you with a tutor soon';
      }

      // ============ UTILITIES ============
      function toggleMobileMenu() {
        const navMenu = document.querySelector('.nav-menu');
        if (navMenu) navMenu.classList.toggle('active');
      }

      function playGame(title, url) {
        window.location.href = url;
      }

      // ============ GLOBAL CLICK HANDLER ============
      window.onclick = function(event) {
        if (event.target.classList.contains('auth-modal')) {
          event.target.style.display = 'none';
          unlockBodyScroll();
        }
      };

      // ============ INITIALIZATION ============
      document.addEventListener('DOMContentLoaded', function() {
        // Set monthly as default active plan
        const monthlyCard = document.querySelector('.plan-card-modern[onclick*="monthly"]');
        if (monthlyCard) monthlyCard.classList.add('active');
        
        console.log(' All emojis removed, scroll lock active, payment links working');
      });

      // Close mobile menu on resize
      window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
          const navMenu = document.querySelector('.nav-menu');
          if (navMenu) navMenu.classList.remove('active');
        }
      });
    </script>

    <!-- External JS - Dashboard is handled by these external files, NOT in HTML -->
    <script src="js/auth-shared.js" onerror="console.error('Failed to load auth-shared.js')"></script>
    <script src="js/tutor-system.js" onerror="console.error('Failed to load tutor-system.js')"></script>
  </body>
</html>