<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kenya Language Mastery - English & Swahili Skills</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Comic Sans MS", cursive, sans-serif;
        background: linear-gradient(
          135deg,
          #059669 0%,
          #10b981 50%,
          #34d399 100%
        );
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        max-width: 1000px;
        width: 100%;
        padding: 40px;
        position: relative;
        overflow: hidden;
      }

      .container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 10px;
        background: linear-gradient(90deg, #059669, #f59e0b, #dc2626);
      }

      h1 {
        color: #064e3b;
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .subtitle {
        text-align: center;
        color: #059669;
        font-size: 1.2em;
        margin-bottom: 30px;
        font-weight: bold;
      }

      .language-selector {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 30px;
      }

      .lang-btn {
        padding: 15px 30px;
        font-size: 1.1em;
        border: 3px solid #10b981;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
        background: #ecfdf5;
        color: #064e3b;
      }

      .lang-btn:hover,
      .lang-btn.active {
        background: #10b981;
        color: white;
        transform: translateY(-3px);
      }

      .skill-level-selector {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 30px;
      }

      .skill-btn {
        padding: 8px 16px;
        background: #d1fae5;
        border: 2px solid #10b981;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
        color: #064e3b;
        font-size: 0.9em;
      }

      .skill-btn:hover,
      .skill-btn.active {
        background: #10b981;
        color: white;
        transform: translateY(-2px);
      }

      .learning-area {
        background: #f9fafb;
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        border: 3px solid #d1fae5;
        min-height: 400px;
      }

      .challenge-title {
        text-align: center;
        font-size: 1.5em;
        color: #064e3b;
        margin-bottom: 20px;
        font-weight: bold;
        padding: 15px;
        background: #ecfdf5;
        border-radius: 15px;
      }

      .word-display {
        text-align: center;
        font-size: 3em;
        color: #059669;
        margin: 30px 0;
        font-weight: bold;
        padding: 20px;
        background: white;
        border-radius: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        min-height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .challenge-text {
        text-align: center;
        font-size: 1.3em;
        color: #374151;
        margin-bottom: 25px;
        font-weight: bold;
        line-height: 1.5;
        background: #f3f4f6;
        padding: 20px;
        border-radius: 15px;
      }

      .input-section {
        text-align: center;
        margin: 30px 0;
      }

      .text-input {
        font-size: 1.3em;
        padding: 15px 25px;
        border: 3px solid #10b981;
        border-radius: 15px;
        text-align: center;
        max-width: 400px;
        width: 100%;
        margin: 0 auto;
        display: block;
      }

      .text-input:focus {
        outline: none;
        border-color: #059669;
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
      }

      .choice-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin: 30px 0;
      }

      .choice-btn {
        padding: 20px;
        font-size: 1.2em;
        background: #ecfdf5;
        border: 3px solid #10b981;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: inherit;
        font-weight: bold;
        color: #064e3b;
        text-align: left;
      }

      .choice-btn:hover {
        background: #d1fae5;
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .choice-btn.correct {
        background: #10b981;
        border-color: #059669;
        color: white;
        animation: bounce 0.5s;
      }

      .choice-btn.incorrect {
        background: #ef4444;
        border-color: #dc2626;
        color: white;
        animation: shake 0.5s;
      }

      .language-stats {
        display: flex;
        justify-content: space-between;
        background: #fef3c7;
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 20px;
      }

      .stat-item {
        text-align: center;
      }

      .stat-label {
        font-size: 0.9em;
        color: #92400e;
        margin-bottom: 5px;
      }

      .stat-value {
        font-size: 1.8em;
        font-weight: bold;
        color: #d97706;
      }

      .progress-bar {
        width: 100%;
        height: 20px;
        background: #e5e7eb;
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 20px;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #10b981, #34d399);
        width: 0%;
        transition: width 0.5s ease;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
      }

      .control-btn {
        padding: 15px 30px;
        font-size: 1.1em;
        background: #10b981;
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: inherit;
        font-weight: bold;
      }

      .control-btn:hover {
        background: #059669;
        transform: translateY(-3px);
      }

      .feedback {
        text-align: center;
        font-size: 1.2em;
        margin: 20px 0;
        font-weight: bold;
        min-height: 60px;
        padding: 15px;
        border-radius: 10px;
      }

      .feedback.correct {
        color: #10b981;
        background: #d1fae5;
        border: 2px solid #6ee7b7;
      }

      .feedback.incorrect {
        color: #ef4444;
        background: #fee2e2;
        border: 2px solid #fca5a5;
      }

      .language-tip {
        background: #dbeafe;
        border-left: 4px solid #3b82f6;
        padding: 15px;
        margin: 15px 0;
        border-radius: 5px;
        font-style: italic;
        color: #1e3a8a;
      }

      .back-btn {
        position: absolute;
        top: 20px;
        left: 20px;
        background: #10b981;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        font-family: inherit;
        font-weight: bold;
        text-decoration: none;
        display: inline-block;
      }

      .back-btn:hover {
        background: #059669;
      }

      .flag-display {
        text-align: center;
        font-size: 2.5em;
        margin-bottom: 20px;
      }

      @keyframes bounce {
        0%,
        20%,
        60%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        80% {
          transform: translateY(-5px);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-10px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(10px);
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
        }

        h1 {
          font-size: 2em;
        }

        .word-display {
          font-size: 2em;
        }

        .choice-grid {
          grid-template-columns: 1fr;
        }

        .language-selector {
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <a href="../games.html" class="back-btn">‚Üê Back to Games</a>

      <h1>üá∞üá™ Kenya Language Mastery</h1>
      <p class="subtitle">Master English & Swahili from basics to advanced!</p>

      <div class="flag-display">üá¨üáß üá∞üá™</div>

      <div class="language-selector">
        <div class="lang-btn active" onclick="selectLanguage('english')">
          üá¨üáß English
        </div>
        <div class="lang-btn" onclick="selectLanguage('swahili')">
          üá∞üá™ Kiswahili
        </div>
      </div>

      <div class="skill-level-selector">
        <div class="skill-btn active" onclick="selectSkill('beginner')">
          Beginner (1-3)
        </div>
        <div class="skill-btn" onclick="selectSkill('intermediate')">
          Intermediate (4-6)
        </div>
        <div class="skill-btn" onclick="selectSkill('advanced')">
          Advanced (7-9)
        </div>
      </div>

      <div class="language-stats">
        <div class="stat-item">
          <div class="stat-label">Score</div>
          <div class="stat-value" id="score">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Words Learned</div>
          <div class="stat-value" id="wordsLearned">0</div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Fluency Streak</div>
          <div class="stat-value" id="streak">0</div>
        </div>
      </div>

      <div class="progress-bar">
        <div class="progress-fill" id="progress"></div>
      </div>

      <div class="learning-area">
        <div class="challenge-title" id="challengeTitle">
          English Beginner - Vocabulary
        </div>

        <div class="word-display" id="wordDisplay">House</div>

        <div id="challengeContainer">
          <!-- Dynamic content based on challenge type -->
        </div>
      </div>

      <div class="feedback" id="feedback"></div>

      <div class="controls">
        <button class="control-btn" onclick="checkAnswer()" id="checkBtn">
          Check Answer
        </button>
        <button class="control-btn" onclick="nextChallenge()" id="nextBtn">
          Next Challenge
        </button>
        <button class="control-btn" onclick="resetLearning()">
          New Session
        </button>
      </div>
    </div>

    <script>
      const languageChallenges = {
        english: {
          beginner: {
            name: "English Beginner (Grades 1-3)",
            challenges: [
              {
                type: "vocabulary",
                title: "Vocabulary - Basic Words",
                word: "House",
                question: "What is a house?",
                options: [
                  "A place where people live",
                  "A type of food",
                  "An animal",
                  "A color",
                ],
                correct: 0,
                tip: "A house is a building where people live with their families.",
              },
              {
                type: "spelling",
                title: "Spelling - Simple Words",
                word: "Cat",
                question: "How do you spell the word for this animal? üê±",
                answer: "cat",
                tip: "Remember: C-A-T. A cat is a furry pet that says 'meow'!",
              },
              {
                type: "grammar",
                title: "Grammar - Sentences",
                word: "I am happy",
                question: "Complete: I ___ happy",
                options: ["am", "is", "are", "be"],
                correct: 0,
                tip: "Use 'am' with 'I': I am happy, I am sad, I am learning!",
              },
            ],
          },
          intermediate: {
            name: "English Intermediate (Grades 4-6)",
            challenges: [
              {
                type: "reading",
                title: "Reading Comprehension",
                word: "The brave lion protects the pride.",
                question: "What does 'brave' mean in this sentence?",
                options: ["Scared", "Courageous", "Hungry", "Sleepy"],
                correct: 1,
                tip: "Brave means courageous - having no fear when facing danger.",
              },
              {
                type: "writing",
                title: "Sentence Construction",
                word: "Write a sentence",
                question: "Write a sentence using the word 'beautiful':",
                answer: "beautiful",
                tip: "A sentence needs a subject and verb. Example: 'The beautiful flower smells nice.'",
              },
            ],
          },
          advanced: {
            name: "English Advanced (Grades 7-9)",
            challenges: [
              {
                type: "literature",
                title: "Literature Analysis",
                word: "Metaphor vs Simile",
                question:
                  "Which is a metaphor? 'Her voice is music' or 'Her voice is like music'?",
                options: [
                  "Her voice is music",
                  "Her voice is like music",
                  "Both are metaphors",
                  "Neither is a metaphor",
                ],
                correct: 0,
                tip: "A metaphor directly compares without 'like' or 'as'. A simile uses 'like' or 'as'.",
              },
              {
                type: "essay",
                title: "Essay Writing",
                word: "Persuasive Writing",
                question: "What is the main purpose of persuasive writing?",
                options: [
                  "To tell a story",
                  "To convince the reader",
                  "To describe something",
                  "To give instructions",
                ],
                correct: 1,
                tip: "Persuasive writing aims to convince the reader to agree with your point of view.",
              },
            ],
          },
        },
        swahili: {
          beginner: {
            name: "Kiswahili Beginner (Grades 1-3)",
            challenges: [
              {
                type: "vocabulary",
                title: "Msamiati - Maneno ya Msingi",
                word: "Nyumba",
                question: "What does 'Nyumba' mean in English?",
                options: ["House", "Car", "Tree", "Book"],
                correct: 0,
                tip: "Nyumba means house - mahali ambapo watu wanaishi.",
              },
              {
                type: "greetings",
                title: "Salamu - Greetings",
                word: "Habari",
                question: "How do you respond to 'Habari?'",
                options: ["Nzuri", "Asante", "Karibu", "Baadaye"],
                correct: 0,
                tip: "Respond to 'Habari?' with 'Nzuri' (good/fine).",
              },
            ],
          },
          intermediate: {
            name: "Kiswahili Intermediate (Grades 4-6)",
            challenges: [
              {
                type: "grammar",
                title: "Sarufi - Wingi na Umoja",
                word: "Mtoto - Watoto",
                question: "What is the plural of 'mti' (tree)?",
                options: ["miti", "wamti", "mamti", "viti"],
                correct: 0,
                tip: "Most words starting with 'm-' form plurals with 'mi-': mti ‚Üí miti.",
              },
            ],
          },
          advanced: {
            name: "Kiswahili Advanced (Grades 7-9)",
            challenges: [
              {
                type: "literature",
                title: "Fasihi - Mashairi",
                word: "Kimbo",
                question: "What is 'kimbo' in Swahili poetry?",
                options: ["Rhyme scheme", "Meter", "Theme", "Stanza"],
                correct: 0,
                tip: "Kimbo is the rhyme scheme - the pattern of rhymes at the end of lines.",
              },
            ],
          },
        },
      };

      let currentLanguage = "english";
      let currentSkill = "beginner";
      let currentChallengeIndex = 0;
      let score = 0;
      let wordsLearned = 0;
      let streak = 0;
      let gameActive = true;

      function selectLanguage(language) {
        currentLanguage = language;
        currentChallengeIndex = 0;

        document.querySelectorAll(".lang-btn").forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        displayChallenge();
      }

      function selectSkill(skill) {
        currentSkill = skill;
        currentChallengeIndex = 0;

        document.querySelectorAll(".skill-btn").forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        displayChallenge();
      }

      function displayChallenge() {
        const skillData = languageChallenges[currentLanguage][currentSkill];
        const challenges = skillData.challenges;

        if (currentChallengeIndex >= challenges.length) {
          showLevelComplete();
          return;
        }

        const challenge = challenges[currentChallengeIndex];

        document.getElementById("challengeTitle").textContent =
          `${skillData.name} - ${challenge.title}`;
        document.getElementById("wordDisplay").textContent = challenge.word;

        const container = document.getElementById("challengeContainer");

        if (challenge.type === "spelling" || challenge.type === "writing" || challenge.type === "essay") {
          container.innerHTML = `
                    <div class="challenge-text">${challenge.question}</div>
                    <div class="input-section">
                        <input type="text" class="text-input" id="textAnswer" placeholder="Type your answer...">
                    </div>
                `;
        } else {
          container.innerHTML = `
                    <div class="challenge-text">${challenge.question}</div>
                    <div class="choice-grid">
                        ${challenge.options.map((option, index) =>
                          `<button class="choice-btn" onclick="selectChoice(${index})">${option}</button>`).join("")}
                    </div>
                `;
        }

        document.getElementById("feedback").textContent = "";
        document.getElementById("feedback").className = "feedback";
        gameActive = true;
      }

      function showLevelComplete() {
        document.getElementById("challengeTitle").textContent = "üéâ Level Complete!";
        document.getElementById("wordDisplay").textContent = "";
        document.getElementById("challengeContainer").innerHTML =
          "<div class='challenge-text'>You have completed all challenges for this skill level. Select another skill or restart.</div>";
        gameActive = false;
      }

      function selectChoice(selectedIndex) {
        if (!gameActive) return;

        const skillData = languageChallenges[currentLanguage][currentSkill];
        const challenge = skillData.challenges[currentChallengeIndex];
        const buttons = document.querySelectorAll(".choice-btn");

        gameActive = false;

        if (selectedIndex === challenge.correct) {
          buttons[selectedIndex].classList.add("correct");
          showFeedback(true, challenge.tip);
        } else {
          buttons[selectedIndex].classList.add("incorrect");
          buttons[challenge.correct].classList.add("correct");
          showFeedback(false, challenge.tip);
        }
      }

      function checkAnswer() {
        const textInput = document.getElementById("textAnswer");
        if (!textInput || !gameActive) return;

        const userAnswer = textInput.value.toLowerCase().trim();
        const skillData = languageChallenges[currentLanguage][currentSkill];
        const challenge = skillData.challenges[currentChallengeIndex];

        gameActive = false;

        const isCorrect = challenge.answer && userAnswer.includes(challenge.answer.toLowerCase());

        if (isCorrect) {
          textInput.style.borderColor = "#10B981";
          textInput.style.backgroundColor = "#D1FAE5";
          showFeedback(true, challenge.tip);
        } else {
          textInput.style.borderColor = "#EF4444";
          textInput.style.backgroundColor = "#FEE2E2";
          showFeedback(false, challenge.tip);
        }
      }

      function showFeedback(isCorrect, tip) {
        const feedback = document.getElementById("feedback");

        if (isCorrect) {
          const langEmoji = currentLanguage === "english" ? "üá¨üáß" : "üá∞üá™";
          feedback.innerHTML = `<div>${langEmoji} Excellent! Well done!</div>
                                <div class="language-tip">üí° ${tip}</div>`;
          feedback.className = "feedback correct";

          score += getSkillScore();
          wordsLearned++;
          streak++;

          if (streak > 0 && streak % 5 === 0) score += 100; 
        } else {
          feedback.innerHTML = `<div>üìö Keep practicing! Learning languages takes time.</div>
                                <div class="language-tip">üí° ${tip}</div>`;
          feedback.className = "feedback incorrect";
          streak = 0;
        }

        updateDisplay();

        setTimeout(() => {
          currentChallengeIndex++;
          displayChallenge();
        }, 2000);
      }

      function getSkillScore() {
        const scores = { beginner: 15, intermediate: 25, advanced: 40 };
        return scores[currentSkill];
      }

      function nextChallenge() {
        if (!gameActive) return;
        currentChallengeIndex++;
        displayChallenge();
      }

      function updateDisplay() {
        document.getElementById("score").textContent = score;
        document.getElementById("wordsLearned").textContent = wordsLearned;
        document.getElementById("streak").textContent = streak;

        const skillData = languageChallenges[currentLanguage][currentSkill];
        const total = skillData.challenges.length;
        const progress = Math.min((currentChallengeIndex / total) * 100, 100);
        document.getElementById("progress").style.width = progress + "%";
      }

      function resetLearning() {
        score = 0;
        wordsLearned = 0;
        streak = 0;
        currentChallengeIndex = 0;
        updateDisplay();
        displayChallenge();
      }

      document.addEventListener("keydown", function(event) {
        if (event.key === "Enter" && document.getElementById("textAnswer")) checkAnswer();
      });

      resetLearning();
    </script>
  </body>
</html>
