<!-- <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plant Growth Challenge - Learn Agriculture</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #81c784 0%, #4caf50 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
        animation: fadeIn 1s ease-in;
      }

      .header h1 {
        font-size: 3rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      .stats-bar {
        display: flex;
        justify-content: space-around;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .stat {
        text-align: center;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: bold;
        color: #4caf50;
      }

      .stat-label {
        color: #666;
        font-size: 0.9rem;
        margin-top: 5px;
      }

      .game-area {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
      }

      .panel {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .farm-view {
        background: linear-gradient(
          to bottom,
          #87ceeb 0%,
          #e8f5e9 50%,
          #8b4513 100%
        );
        border-radius: 15px;
        padding: 30px;
        min-height: 500px;
        position: relative;
        overflow: hidden;
      }

      .sun {
        position: absolute;
        top: 20px;
        right: 30px;
        font-size: 4rem;
        animation: rotate 10s linear infinite;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .clouds {
        position: absolute;
        top: 50px;
        left: 20px;
        font-size: 3rem;
        opacity: 0.7;
        animation: float 15s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(100px);
        }
      }

      .plant-container {
        position: absolute;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
      }

      .plant-display {
        font-size: 8rem;
        margin-bottom: 20px;
        animation: grow 1s ease-out;
      }

      @keyframes grow {
        from {
          transform: scale(0.5);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .plant-name {
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 20px;
        border-radius: 10px;
        font-weight: bold;
        color: #4caf50;
        font-size: 1.5rem;
      }

      .soil {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 80px;
        background: #8b4513;
        border-radius: 0 0 15px 15px;
      }

      .plant-info {
        background: #f1f8e9;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        border-left: 5px solid #4caf50;
      }

      .growth-stage {
        background: linear-gradient(135deg, #66bb6a 0%, #43a047 100%);
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        text-align: center;
      }

      .stage-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .stage-description {
        font-size: 1rem;
        opacity: 0.9;
      }

      .needs-panel {
        background: #fff3e0;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .needs-title {
        font-weight: bold;
        color: #ff6f00;
        margin-bottom: 15px;
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .need-item {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        gap: 10px;
      }

      .need-icon {
        font-size: 2rem;
      }

      .need-bar {
        flex: 1;
        height: 25px;
        background: #e0e0e0;
        border-radius: 15px;
        overflow: hidden;
        position: relative;
      }

      .need-fill {
        height: 100%;
        background: linear-gradient(90deg, #4caf50 0%, #81c784 100%);
        transition: width 0.5s ease;
        border-radius: 15px;
      }

      .need-value {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-weight: bold;
        color: #333;
        font-size: 0.9rem;
      }

      .action-buttons {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 20px;
      }

      button {
        padding: 15px 20px;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .btn-water {
        background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
        color: white;
      }

      .btn-water:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
      }

      .btn-water:disabled {
        background: #bdbdbd;
        cursor: not-allowed;
        transform: none;
      }

      .btn-sunlight {
        background: linear-gradient(135deg, #ffc107 0%, #ffa000 100%);
        color: white;
      }

      .btn-sunlight:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4);
      }

      .btn-fertilizer {
        background: linear-gradient(135deg, #795548 0%, #5d4037 100%);
        color: white;
      }

      .btn-fertilizer:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(121, 85, 72, 0.4);
      }

      .btn-harvest {
        background: linear-gradient(135deg, #ff6f00 0%, #e65100 100%);
        color: white;
        grid-column: 1 / -1;
      }

      .btn-harvest:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 111, 0, 0.4);
      }

      .btn-harvest:disabled {
        background: #bdbdbd;
        cursor: not-allowed;
        transform: none;
      }

      .facts-box {
        background: #e3f2fd;
        border-radius: 10px;
        padding: 20px;
        margin-top: 20px;
      }

      .facts-title {
        font-weight: bold;
        color: #1976d2;
        margin-bottom: 10px;
        font-size: 1.1rem;
      }

      .fact-text {
        color: #555;
        line-height: 1.6;
        font-size: 0.95rem;
      }

      .notification {
        position: fixed;
        top: 100px;
        right: 20px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        transform: translateX(400px);
        transition: transform 0.3s ease;
        z-index: 1000;
        max-width: 300px;
      }

      .notification.show {
        transform: translateX(0);
      }

      .notification.success {
        border-left: 5px solid #4caf50;
      }

      .notification.warning {
        border-left: 5px solid #ff9800;
      }

      .notification.error {
        border-left: 5px solid #f44336;
      }

      .timer {
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 20px;
        border-radius: 10px;
        display: inline-block;
        font-weight: bold;
        color: #4caf50;
        font-size: 1.1rem;
      }

      .weather-controls {
        position: absolute;
        top: 20px;
        left: 20px;
        display: flex;
        gap: 10px;
      }

      .weather-btn {
        background: rgba(255, 255, 255, 0.8);
        border: none;
        padding: 10px 15px;
        border-radius: 10px;
        font-size: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .weather-btn:hover {
        background: rgba(255, 255, 255, 1);
        transform: scale(1.1);
      }

      .weather-btn.active {
        background: #4caf50;
      }

      .plant-selector {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 10px;
        margin-bottom: 20px;
      }

      .plant-option {
        background: #f5f5f5;
        border: 3px solid transparent;
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .plant-option:hover {
        background: #e8f5e9;
        transform: scale(1.05);
      }

      .plant-option.selected {
        border-color: #4caf50;
        background: #e8f5e9;
      }

      .plant-icon {
        font-size: 3rem;
        margin-bottom: 5px;
      }

      .plant-label {
        font-size: 0.9rem;
        font-weight: bold;
        color: #333;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @media (max-width: 768px) {
        .game-area {
          grid-template-columns: 1fr;
        }

        .header h1 {
          font-size: 2rem;
        }

        .stats-bar {
          flex-direction: column;
          gap: 15px;
        }

        .plant-display {
          font-size: 5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üå± Plant Growth Challenge üåæ</h1>
        <p>Learn about Kenyan agriculture by growing virtual crops!</p>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="score">0</div>
          <div class="stat-label">üèÜ Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="plantsGrown">0</div>
          <div class="stat-label">üåæ Plants Grown</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="harvested">0</div>
          <div class="stat-label">üéØ Harvested</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dayCount">1</div>
          <div class="stat-label">üìÖ Day</div>
        </div>
      </div>

      <div class="game-area">
        <div>
          <div class="farm-view">
            <div class="weather-controls">
              <button
                class="weather-btn active"
                onclick="setWeather('sunny')"
                title="Sunny"
              >
                ‚òÄÔ∏è
              </button>
              <button
                class="weather-btn"
                onclick="setWeather('cloudy')"
                title="Cloudy"
              >
                ‚òÅÔ∏è
              </button>
              <button
                class="weather-btn"
                onclick="setWeather('rainy')"
                title="Rainy"
              >
                üåßÔ∏è
              </button>
            </div>
            <div class="sun" id="sun">‚òÄÔ∏è</div>
            <div class="clouds" id="clouds">‚òÅÔ∏è</div>
            <div class="plant-container">
              <div class="plant-display" id="plantDisplay">üå±</div>
              <div class="plant-name" id="plantName">Seedling</div>
            </div>
            <div class="soil"></div>
          </div>

          <div class="panel" style="margin-top: 20px">
            <h3 style="color: #4caf50; margin-bottom: 15px">
              üåæ Select Your Crop
            </h3>
            <div class="plant-selector" id="plantSelector"></div>
          </div>
        </div>

        <div class="panel">
          <div class="growth-stage">
            <div class="stage-title" id="stageTitle">Seed Stage</div>
            <div class="stage-description" id="stageDesc">
              Plant your seed and care for it!
            </div>
            <div class="timer" id="timer">Day 1</div>
          </div>

          <div class="needs-panel">
            <div class="needs-title">üíß Plant Needs</div>

            <div class="need-item">
              <div class="need-icon">üíß</div>
              <div class="need-bar">
                <div class="need-fill" id="waterFill" style="width: 50%"></div>
                <div class="need-value" id="waterValue">50%</div>
              </div>
            </div>

            <div class="need-item">
              <div class="need-icon">‚òÄÔ∏è</div>
              <div class="need-bar">
                <div class="need-fill" id="sunFill" style="width: 50%"></div>
                <div class="need-value" id="sunValue">50%</div>
              </div>
            </div>

            <div class="need-item">
              <div class="need-icon">üåø</div>
              <div class="need-bar">
                <div
                  class="need-fill"
                  id="nutrientFill"
                  style="width: 50%"
                ></div>
                <div class="need-value" id="nutrientValue">50%</div>
              </div>
            </div>
          </div>

          <div class="action-buttons">
            <button class="btn-water" onclick="addWater()">
              üíß Water Plant
            </button>
            <button class="btn-sunlight" onclick="adjustSunlight()">
              ‚òÄÔ∏è Add Sunlight
            </button>
            <button class="btn-fertilizer" onclick="addFertilizer()">
              üåø Add Fertilizer
            </button>
            <button
              class="btn-harvest"
              id="harvestBtn"
              onclick="harvestPlant()"
              disabled
            >
              üéØ Harvest Plant
            </button>
          </div>

          <button
            style="
              width: 100%;
              background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
              color: white;
            "
            onclick="advanceDay()"
          >
            ‚è≠Ô∏è Next Day
          </button>

          <div class="plant-info">
            <h4 style="color: #4caf50; margin-bottom: 10px" id="plantInfoTitle">
              About This Crop
            </h4>
            <p id="plantInfoText" style="line-height: 1.6; color: #555"></p>
          </div>

          <div class="facts-box">
            <div class="facts-title">üí° Did You Know?</div>
            <div class="fact-text" id="factText"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="notification" id="notification">
      <div id="notificationText"></div>
    </div>

    <script>
      const crops = [
        {
          name: "Maize",
          icon: "üåΩ",
          stages: ["üå±", "üåø", "üåæ", "üåΩ"],
          stageNames: ["Seed", "Sprout", "Growing", "Mature"],
          daysToGrow: 4,
          waterNeed: 20,
          sunNeed: 25,
          nutrientNeed: 15,
          info: "Maize is Kenya's staple food crop. It grows best in well-drained soil with plenty of sunlight.",
          facts: [
            "Kenya is one of Africa's largest maize producers!",
            "Maize was introduced to Kenya in the 16th century.",
            "Most Kenyan farmers grow maize for food security.",
            "Maize needs 500-800mm of rainfall annually.",
          ],
        },
        {
          name: "Coffee",
          icon: "‚òï",
          stages: ["üå±", "üåø", "üçÉ", "‚òï"],
          stageNames: ["Seed", "Seedling", "Bush", "Berries"],
          daysToGrow: 5,
          waterNeed: 25,
          sunNeed: 20,
          nutrientNeed: 20,
          info: "Kenyan coffee is world-famous for its quality. It grows best in highland areas.",
          facts: [
            "Kenya produces some of the world's finest coffee!",
            "Coffee is Kenya's top agricultural export.",
            "Coffee plants can live for over 50 years.",
            "Kenya's coffee grows at high altitudes (1,400-2,000m).",
          ],
        },
        {
          name: "Tea",
          icon: "üçµ",
          stages: ["üå±", "üåø", "üçÉ", "üçµ"],
          stageNames: ["Seed", "Sprout", "Bush", "Leaves"],
          daysToGrow: 5,
          waterNeed: 30,
          sunNeed: 15,
          nutrientNeed: 20,
          info: "Kenya is the world's leading exporter of black tea. It thrives in high rainfall areas.",
          facts: [
            "Kenya is the world's largest tea exporter!",
            "Tea was introduced to Kenya in 1903.",
            "Kenya produces over 500,000 tonnes yearly.",
            "Tea grows best in the Central Highlands.",
          ],
        },
        {
          name: "Beans",
          icon: "ü´ò",
          stages: ["üå±", "üåø", "üåæ", "ü´ò"],
          stageNames: ["Seed", "Sprout", "Growing", "Pods"],
          daysToGrow: 3,
          waterNeed: 15,
          sunNeed: 20,
          nutrientNeed: 25,
          info: "Beans are a key protein source in Kenya. They fix nitrogen in the soil.",
          facts: [
            "Beans provide essential protein for many Kenyans.",
            "They improve soil fertility naturally!",
            "Kenya grows many bean varieties.",
            "Beans can be intercropped with maize.",
          ],
        },
        {
          name: "Tomatoes",
          icon: "üçÖ",
          stages: ["üå±", "üåø", "üåº", "üçÖ"],
          stageNames: ["Seed", "Seedling", "Flowering", "Fruit"],
          daysToGrow: 4,
          waterNeed: 25,
          sunNeed: 30,
          nutrientNeed: 20,
          info: "Tomatoes are widely grown in Kenya for both local consumption and export.",
          facts: [
            "Tomatoes are technically fruits, not vegetables!",
            "Kenya exports tomatoes to neighboring countries.",
            "Tomatoes need consistent watering.",
            "They grow well in greenhouse conditions.",
          ],
        },
        {
          name: "Kale (Sukuma Wiki)",
          icon: "ü•¨",
          stages: ["üå±", "üåø", "ü•¨", "ü•¨"],
          stageNames: ["Seed", "Sprout", "Growing", "Mature"],
          daysToGrow: 3,
          waterNeed: 20,
          sunNeed: 20,
          nutrientNeed: 15,
          info: "Sukuma Wiki is Kenya's most popular vegetable. The name means 'push the week' in Swahili.",
          facts: [
            "Sukuma Wiki means 'push/stretch the week'!",
            "It's affordable and nutritious.",
            "Can be harvested multiple times.",
            "Rich in vitamins and minerals.",
          ],
        },
      ];

      let currentCrop = 0;
      let currentStage = 0;
      let dayCount = 1;
      let water = 50;
      let sunlight = 50;
      let nutrients = 50;
      let score = 0;
      let plantsGrown = 0;
      let harvested = 0;
      let currentWeather = "sunny";

      function initGame() {
        renderPlantSelector();
        loadCrop();
        updateDisplay();
        showRandomFact();
      }

      function renderPlantSelector() {
        const selector = document.getElementById("plantSelector");
        selector.innerHTML = crops
          .map(
            (crop, index) => `
                <div class="plant-option ${
                  index === currentCrop ? "selected" : ""
                }" onclick="selectCrop(${index})">
                    <div class="plant-icon">${crop.icon}</div>
                    <div class="plant-label">${crop.name}</div>
                </div>
            `
          )
          .join("");
      }

      function selectCrop(index) {
        if (currentStage > 0) {
          showNotification(
            "warning",
            "‚ö†Ô∏è Finish growing your current plant first!"
          );
          return;
        }
        currentCrop = index;
        currentStage = 0;
        loadCrop();
        renderPlantSelector();
      }

      function loadCrop() {
        const crop = crops[currentCrop];
        document.getElementById(
          "plantInfoTitle"
        ).textContent = `About ${crop.name}`;
        document.getElementById("plantInfoText").textContent = crop.info;
        updateDisplay();
        showRandomFact();
      }

      function updateDisplay() {
        const crop = crops[currentCrop];
        document.getElementById("plantDisplay").textContent =
          crop.stages[currentStage];
        document.getElementById(
          "plantName"
        ).textContent = `${crop.name} - ${crop.stageNames[currentStage]}`;
        document.getElementById("stageTitle").textContent =
          crop.stageNames[currentStage] + " Stage";
        document.getElementById("stageDesc").textContent =
          getStageDescription();
        document.getElementById("timer").textContent = `Day ${dayCount}`;
        document.getElementById("dayCount").textContent = dayCount;

        updateNeedBars();
        updateStats();
        checkHarvestReady();
      }

      function getStageDescription() {
        const descriptions = [
          "Your seed is planted. Keep it watered!",
          "The plant is sprouting. Maintain good care!",
          "Growing well! Keep providing nutrients.",
          "Ready to harvest! Your plant is mature.",
        ];
        return descriptions[currentStage];
      }

      function updateNeedBars() {
        water = Math.max(0, Math.min(100, water));
        sunlight = Math.max(0, Math.min(100, sunlight));
        nutrients = Math.max(0, Math.min(100, nutrients));

        document.getElementById("waterFill").style.width = water + "%";
        document.getElementById("waterValue").textContent =
          Math.round(water) + "%";

        document.getElementById("sunFill").style.width = sunlight + "%";
        document.getElementById("sunValue").textContent =
          Math.round(sunlight) + "%";

        document.getElementById("nutrientFill").style.width = nutrients + "%";
        document.getElementById("nutrientValue").textContent =
          Math.round(nutrients) + "%";

        // Change bar colors based on levels
        updateBarColor("waterFill", water);
        updateBarColor("sunFill", sunlight);
        updateBarColor("nutrientFill", nutrients);
      }

      function updateBarColor(id, value) {
        const bar = document.getElementById(id);
        if (value < 30) {
          bar.style.background =
            "linear-gradient(90deg, #f44336 0%, #e57373 100%)";
        } else if (value < 60) {
          bar.style.background =
            "linear-gradient(90deg, #ff9800 0%, #ffb74d 100%)";
        } else {
          bar.style.background =
            "linear-gradient(90deg, #4caf50 0%, #81c784 100%)";
        }
      }

      function addWater() {
        water += 30;
        if (water > 100) {
          water = 100;
          showNotification(
            "warning",
            "üíß Be careful! Too much water can harm plants!"
          );
        } else {
          showNotification("success", "üíß Plant watered successfully!");
          score += 10;
        }
        updateDisplay();
      }

      function adjustSunlight() {
        sunlight += 25;
        if (sunlight > 100) {
          sunlight = 100;
          showNotification("warning", "‚òÄÔ∏è Your plant has enough sunlight!");
        } else {
          showNotification("success", "‚òÄÔ∏è Sunlight exposure increased!");
          score += 10;
        }
        updateDisplay();
      }

      function addFertilizer() {
        nutrients += 35;
        if (nutrients > 100) {
          nutrients = 100;
          showNotification(
            "warning",
            "üåø Too much fertilizer can burn plants!"
          );
        } else {
          showNotification("success", "üåø Fertilizer added successfully!");
          score += 10;
        }
        updateDisplay();
      }

      function advanceDay() {
        dayCount++;
        const crop = crops[currentCrop];

        // Decrease needs over time
        water -= crop.waterNeed;
        sunlight -= crop.sunNeed;
        nutrients -= crop.nutrientNeed;

        // Weather effects
        if (currentWeather === "rainy") {
          water += 20;
          showNotification("success", "üåßÔ∏è Rain helped water your plants!");
        } else if (currentWeather === "cloudy") {
          sunlight -= 10;
        }

        // Check if plant can grow
        if (water >= 30 && sunlight >= 30 && nutrients >= 30) {
          if (currentStage < crop.stages.length - 1) {
            currentStage++;
            plantsGrown++;
            score += 50;
            showNotification(
              "success",
              `üå± Your ${crop.name} grew to ${crop.stageNames[currentStage]} stage!`
            );
          }
        } else {
          showNotification(
            "warning",
            "‚ö†Ô∏è Plant needs more care! Check water, sun, and nutrients."
          );
          score -= 20;
        }

        updateDisplay();
        showRandomFact();
      }

      function checkHarvestReady() {
        const crop = crops[currentCrop];
        const harvestBtn = document.getElementById("harvestBtn");

        if (currentStage === crop.stages.length - 1) {
          harvestBtn.disabled = false;
        } else {
          harvestBtn.disabled = true;
        }
      }

      function harvestPlant() {
        const crop = crops[currentCrop];
        harvested++;
        score += 100;
        showNotification("success", `üéâ Harvested ${crop.name}! +100 points!`);

        // Reset for new plant
        currentStage = 0;
        water = 50;
        sunlight = 50;
        nutrients = 50;

        updateDisplay();
      }

      function setWeather(weather) {
        currentWeather = weather;
        const buttons = document.querySelectorAll(".weather-btn");
        buttons.forEach((btn) => btn.classList.remove("active"));

        const sun = document.getElementById("sun");
        const clouds = document.getElementById("clouds");

        if (weather === "sunny") {
          sun.style.opacity = "1";
          clouds.style.opacity = "0.3";
          event.target.classList.add("active");
        } else if (weather === "cloudy") {
          sun.style.opacity = "0.3";
          clouds.style.opacity = "1";
          event.target.classList.add("active");
        } else if (weather === "rainy") {
          sun.style.opacity = "0";
          clouds.style.opacity = "1";
          clouds.textContent = "üåßÔ∏è";
          event.target.classList.add("active");
        }
      }

      function showNotification(type, message) {
        const notification = document.getElementById("notification");
        notification.className = `notification ${type} show`;
        document.getElementById("notificationText").textContent = message;

        setTimeout(() => {
          notification.classList.remove("show");
        }, 3000);
      }

      function showRandomFact() {
        const crop = crops[currentCrop];
        const randomFact =
          crop.facts[Math.floor(Math.random() * crop.facts.length)];
        document.getElementById("factText").textContent = randomFact;
      }

      function updateStats() {
        document.getElementById("score").textContent = score;
        document.getElementById("plantsGrown").textContent = plantsGrown;
        document.getElementById("harvested").textContent = harvested;
      }

      initGame();
    </script>
  </body>
</html>
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plant Growth Challenge - Learn Agriculture</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #81c784 0%, #4caf50 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
        animation: fadeIn 1s ease-in;
      }

      .header h1 {
        font-size: 3rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      .stats-bar {
        display: flex;
        justify-content: space-around;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .stat {
        text-align: center;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: bold;
        color: #4caf50;
      }

      .stat-label {
        color: #666;
        font-size: 0.9rem;
        margin-top: 5px;
      }

      .game-area {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
      }

      .panel {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .farm-view {
        background: linear-gradient(
          to bottom,
          #87ceeb 0%,
          #e8f5e9 50%,
          #8b4513 100%
        );
        border-radius: 15px;
        padding: 30px;
        min-height: 500px;
        position: relative;
        overflow: hidden;
      }

      .sun {
        position: absolute;
        top: 20px;
        right: 30px;
        font-size: 4rem;
        animation: rotate 10s linear infinite;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .clouds {
        position: absolute;
        top: 50px;
        left: 20px;
        font-size: 3rem;
        opacity: 0.7;
        animation: float 15s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(100px);
        }
      }

      .plant-container {
        position: absolute;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
      }

      .plant-display {
        font-size: 8rem;
        margin-bottom: 20px;
        animation: grow 1s ease-out;
      }

      @keyframes grow {
        from {
          transform: scale(0.5);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .plant-name {
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 20px;
        border-radius: 10px;
        font-weight: bold;
        color: #4caf50;
        font-size: 1.5rem;
      }

      .soil {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 80px;
        background: #8b4513;
        border-radius: 0 0 15px 15px;
      }

      .plant-info {
        background: #f1f8e9;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        border-left: 5px solid #4caf50;
      }

      .growth-stage {
        background: linear-gradient(135deg, #66bb6a 0%, #43a047 100%);
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        text-align: center;
      }

      .stage-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .stage-description {
        font-size: 1rem;
        opacity: 0.9;
      }

      .needs-panel {
        background: #fff3e0;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .needs-title {
        font-weight: bold;
        color: #ff6f00;
        margin-bottom: 15px;
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .need-item {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        gap: 10px;
      }

      .need-icon {
        font-size: 2rem;
      }

      .need-bar {
        flex: 1;
        height: 25px;
        background: #e0e0e0;
        border-radius: 15px;
        overflow: hidden;
        position: relative;
      }

      .need-fill {
        height: 100%;
        background: linear-gradient(90deg, #4caf50 0%, #81c784 100%);
        transition: width 0.5s ease;
        border-radius: 15px;
      }

      .need-value {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-weight: bold;
        color: #333;
        font-size: 0.9rem;
      }

      .action-buttons {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 20px;
      }

      button {
        padding: 15px 20px;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .btn-water {
        background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
        color: white;
      }

      .btn-water:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
      }

      .btn-water:disabled {
        background: #bdbdbd;
        cursor: not-allowed;
        transform: none;
      }

      .btn-sunlight {
        background: linear-gradient(135deg, #ffc107 0%, #ffa000 100%);
        color: white;
      }

      .btn-sunlight:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 193, 7, 0.4);
      }

      .btn-fertilizer {
        background: linear-gradient(135deg, #795548 0%, #5d4037 100%);
        color: white;
      }

      .btn-fertilizer:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(121, 85, 72, 0.4);
      }

      .btn-harvest {
        background: linear-gradient(135deg, #ff6f00 0%, #e65100 100%);
        color: white;
        grid-column: 1 / -1;
      }

      .btn-harvest:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 111, 0, 0.4);
      }

      .btn-harvest:disabled {
        background: #bdbdbd;
        cursor: not-allowed;
        transform: none;
      }

      .facts-box {
        background: #e3f2fd;
        border-radius: 10px;
        padding: 20px;
        margin-top: 20px;
      }

      .facts-title {
        font-weight: bold;
        color: #1976d2;
        margin-bottom: 10px;
        font-size: 1.1rem;
      }

      .fact-text {
        color: #555;
        line-height: 1.6;
        font-size: 0.95rem;
      }

      .notification {
        position: fixed;
        top: 100px;
        right: 20px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        transform: translateX(400px);
        transition: transform 0.3s ease;
        z-index: 1000;
        max-width: 300px;
      }

      .notification.show {
        transform: translateX(0);
      }

      .notification.success {
        border-left: 5px solid #4caf50;
      }

      .notification.warning {
        border-left: 5px solid #ff9800;
      }

      .notification.error {
        border-left: 5px solid #f44336;
      }

      .timer {
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 20px;
        border-radius: 10px;
        display: inline-block;
        font-weight: bold;
        color: #4caf50;
        font-size: 1.1rem;
      }

      .weather-controls {
        position: absolute;
        top: 20px;
        left: 20px;
        display: flex;
        gap: 10px;
      }

      .weather-btn {
        background: rgba(255, 255, 255, 0.8);
        border: none;
        padding: 10px 15px;
        border-radius: 10px;
        font-size: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .weather-btn:hover {
        background: rgba(255, 255, 255, 1);
        transform: scale(1.1);
      }

      .weather-btn.active {
        background: #4caf50;
      }

      .plant-selector {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 10px;
        margin-bottom: 20px;
      }

      .plant-option {
        background: #f5f5f5;
        border: 3px solid transparent;
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .plant-option:hover {
        background: #e8f5e9;
        transform: scale(1.05);
      }

      .plant-option.selected {
        border-color: #4caf50;
        background: #e8f5e9;
      }

      .plant-icon {
        font-size: 3rem;
        margin-bottom: 5px;
      }

      .plant-label {
        font-size: 0.9rem;
        font-weight: bold;
        color: #333;
      }

      /* NEW STYLES */
      .save-load-buttons {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }

      .btn-save {
        background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
        color: white;
        flex: 1;
      }

      .btn-load {
        background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
        color: white;
        flex: 1;
      }

      .achievements-panel {
        background: #fff8e1;
        border-radius: 10px;
        padding: 15px;
        margin-top: 15px;
      }

      .achievement {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        padding: 8px;
        border-radius: 5px;
        background: rgba(255, 255, 255, 0.7);
      }

      .achievement.locked {
        opacity: 0.5;
      }

      .achievement-icon {
        font-size: 1.5rem;
      }

      .pest-animation {
        position: absolute;
        font-size: 2rem;
        animation: pestMove 3s linear;
      }

      @keyframes pestMove {
        0% {
          transform: translateX(-100px);
          opacity: 0;
        }
        20% {
          opacity: 1;
        }
        80% {
          opacity: 1;
        }
        100% {
          transform: translateX(500px);
          opacity: 0;
        }
      }

      .rain-animation {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
      }

      .rain-drop {
        position: absolute;
        background: rgba(255, 255, 255, 0.8);
        width: 2px;
        height: 15px;
        animation: rainFall 1s linear infinite;
      }

      @keyframes rainFall {
        0% {
          transform: translateY(-100px);
        }
        100% {
          transform: translateY(500px);
        }
      }

      .season-indicator {
        position: absolute;
        top: 20px;
        right: 120px;
        background: rgba(255, 255, 255, 0.9);
        padding: 5px 15px;
        border-radius: 20px;
        font-weight: bold;
        color: #4caf50;
      }

      .tooltip {
        position: relative;
        cursor: help;
      }

      .tooltip-text {
        visibility: hidden;
        width: 200px;
        background: #333;
        color: white;
        text-align: center;
        border-radius: 6px;
        padding: 10px;
        position: absolute;
        z-index: 1000;
        bottom: 125%;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.3s;
      }

      .tooltip:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @media (max-width: 768px) {
        .game-area {
          grid-template-columns: 1fr;
        }

        .header h1 {
          font-size: 2rem;
        }

        .stats-bar {
          flex-direction: column;
          gap: 15px;
        }

        .plant-display {
          font-size: 5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üå± Plant Growth Challenge üåæ</h1>
        <p>Learn about Kenyan agriculture by growing virtual crops!</p>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="score">0</div>
          <div class="stat-label">üèÜ Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="plantsGrown">0</div>
          <div class="stat-label">üåæ Plants Grown</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="harvested">0</div>
          <div class="stat-label">üéØ Harvested</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dayCount">1</div>
          <div class="stat-label">üìÖ Day</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="seasonDisplay">Spring</div>
          <div class="stat-label">üå§Ô∏è Season</div>
        </div>
      </div>

      <div class="game-area">
        <div>
          <div class="farm-view" id="farmView">
            <div class="season-indicator" id="seasonIndicator">Spring</div>
            <div class="weather-controls">
              <button
                class="weather-btn active"
                onclick="setWeather('sunny')"
                title="Sunny"
              >
                ‚òÄÔ∏è
              </button>
              <button
                class="weather-btn"
                onclick="setWeather('cloudy')"
                title="Cloudy"
              >
                ‚òÅÔ∏è
              </button>
              <button
                class="weather-btn"
                onclick="setWeather('rainy')"
                title="Rainy"
              >
                üåßÔ∏è
              </button>
            </div>
            <div class="sun" id="sun">‚òÄÔ∏è</div>
            <div class="clouds" id="clouds">‚òÅÔ∏è</div>
            <div class="plant-container">
              <div class="plant-display" id="plantDisplay">üå±</div>
              <div class="plant-name" id="plantName">Seedling</div>
            </div>
            <div class="soil"></div>
          </div>

          <div class="panel" style="margin-top: 20px">
            <h3 style="color: #4caf50; margin-bottom: 15px">
              üåæ Select Your Crop
            </h3>
            <div class="plant-selector" id="plantSelector"></div>

            <div class="save-load-buttons">
              <button class="btn-save" onclick="saveGame()">
                üíæ Save Game
              </button>
              <button class="btn-load" onclick="loadGame()">
                üìÇ Load Game
              </button>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="growth-stage">
            <div class="stage-title" id="stageTitle">Seed Stage</div>
            <div class="stage-description" id="stageDesc">
              Plant your seed and care for it!
            </div>
            <div class="timer" id="timer">Day 1</div>
          </div>

          <div class="needs-panel">
            <div class="needs-title">üíß Plant Needs</div>

            <div class="need-item">
              <div class="need-icon">üíß</div>
              <div class="need-bar">
                <div class="need-fill" id="waterFill" style="width: 50%"></div>
                <div class="need-value" id="waterValue">50%</div>
              </div>
            </div>

            <div class="need-item">
              <div class="need-icon">‚òÄÔ∏è</div>
              <div class="need-bar">
                <div class="need-fill" id="sunFill" style="width: 50%"></div>
                <div class="need-value" id="sunValue">50%</div>
              </div>
            </div>

            <div class="need-item">
              <div class="need-icon">üåø</div>
              <div class="need-bar">
                <div
                  class="need-fill"
                  id="nutrientFill"
                  style="width: 50%"
                ></div>
                <div class="need-value" id="nutrientValue">50%</div>
              </div>
            </div>
          </div>

          <div class="action-buttons">
            <button class="btn-water" onclick="addWater()">
              üíß Water Plant
            </button>
            <button class="btn-sunlight" onclick="adjustSunlight()">
              ‚òÄÔ∏è Add Sunlight
            </button>
            <button class="btn-fertilizer" onclick="addFertilizer()">
              üåø Add Fertilizer
            </button>
            <button
              class="btn-harvest"
              id="harvestBtn"
              onclick="harvestPlant()"
              disabled
            >
              üéØ Harvest Plant
            </button>
          </div>

          <button
            style="
              width: 100%;
              background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
              color: white;
            "
            onclick="advanceDay()"
            id="nextDayBtn"
          >
            ‚è≠Ô∏è Next Day
          </button>

          <div class="plant-info">
            <h4 style="color: #4caf50; margin-bottom: 10px" id="plantInfoTitle">
              About This Crop
            </h4>
            <p id="plantInfoText" style="line-height: 1.6; color: #555"></p>
          </div>

          <div class="achievements-panel">
            <div class="facts-title">üèÜ Achievements</div>
            <div id="achievementsList"></div>
          </div>

          <div class="facts-box">
            <div class="facts-title">üí° Did You Know?</div>
            <div class="fact-text" id="factText"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="notification" id="notification">
      <div id="notificationText"></div>
    </div>

    <audio id="waterSound" preload="auto">
      <source
        src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA=="
        type="audio/wav"
      />
    </audio>
    <audio id="harvestSound" preload="auto">
      <source
        src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA=="
        type="audio/wav"
      />
    </audio>

    <script>
      // Enhanced crops data with more varieties
      const crops = [
        {
          name: "Maize",
          icon: "üåΩ",
          stages: ["üå±", "üåø", "üåæ", "üåΩ"],
          stageNames: ["Seed", "Sprout", "Growing", "Mature"],
          daysToGrow: 4,
          waterNeed: 20,
          sunNeed: 25,
          nutrientNeed: 15,
          info: "Maize is Kenya's staple food crop. It grows best in well-drained soil with plenty of sunlight.",
          facts: [
            "Kenya is one of Africa's largest maize producers!",
            "Maize was introduced to Kenya in the 16th century.",
            "Most Kenyan farmers grow maize for food security.",
            "Maize needs 500-800mm of rainfall annually.",
          ],
          season: "Rainy",
          difficulty: "Easy",
        },
        {
          name: "Coffee",
          icon: "‚òï",
          stages: ["üå±", "üåø", "üçÉ", "‚òï"],
          stageNames: ["Seed", "Seedling", "Bush", "Berries"],
          daysToGrow: 5,
          waterNeed: 25,
          sunNeed: 20,
          nutrientNeed: 20,
          info: "Kenyan coffee is world-famous for its quality. It grows best in highland areas.",
          facts: [
            "Kenya produces some of the world's finest coffee!",
            "Coffee is Kenya's top agricultural export.",
            "Coffee plants can live for over 50 years.",
            "Kenya's coffee grows at high altitudes (1,400-2,000m).",
          ],
          season: "Cool",
          difficulty: "Hard",
        },
        {
          name: "Tea",
          icon: "üçµ",
          stages: ["üå±", "üåø", "üçÉ", "üçµ"],
          stageNames: ["Seed", "Sprout", "Bush", "Leaves"],
          daysToGrow: 5,
          waterNeed: 30,
          sunNeed: 15,
          nutrientNeed: 20,
          info: "Kenya is the world's leading exporter of black tea. It thrives in high rainfall areas.",
          facts: [
            "Kenya is the world's largest tea exporter!",
            "Tea was introduced to Kenya in 1903.",
            "Kenya produces over 500,000 tonnes yearly.",
            "Tea grows best in the Central Highlands.",
          ],
          season: "Rainy",
          difficulty: "Medium",
        },
        {
          name: "Beans",
          icon: "ü´ò",
          stages: ["üå±", "üåø", "üåæ", "ü´ò"],
          stageNames: ["Seed", "Sprout", "Growing", "Pods"],
          daysToGrow: 3,
          waterNeed: 15,
          sunNeed: 20,
          nutrientNeed: 25,
          info: "Beans are a key protein source in Kenya. They fix nitrogen in the soil.",
          facts: [
            "Beans provide essential protein for many Kenyans.",
            "They improve soil fertility naturally!",
            "Kenya grows many bean varieties.",
            "Beans can be intercropped with maize.",
          ],
          season: "Any",
          difficulty: "Easy",
        },
        {
          name: "Tomatoes",
          icon: "üçÖ",
          stages: ["üå±", "üåø", "üåº", "üçÖ"],
          stageNames: ["Seed", "Seedling", "Flowering", "Fruit"],
          daysToGrow: 4,
          waterNeed: 25,
          sunNeed: 30,
          nutrientNeed: 20,
          info: "Tomatoes are widely grown in Kenya for both local consumption and export.",
          facts: [
            "Tomatoes are technically fruits, not vegetables!",
            "Kenya exports tomatoes to neighboring countries.",
            "Tomatoes need consistent watering.",
            "They grow well in greenhouse conditions.",
          ],
          season: "Warm",
          difficulty: "Medium",
        },
        {
          name: "Kale (Sukuma Wiki)",
          icon: "ü•¨",
          stages: ["üå±", "üåø", "ü•¨", "ü•¨"],
          stageNames: ["Seed", "Sprout", "Growing", "Mature"],
          daysToGrow: 3,
          waterNeed: 20,
          sunNeed: 20,
          nutrientNeed: 15,
          info: "Sukuma Wiki is Kenya's most popular vegetable. The name means 'push the week' in Swahili.",
          facts: [
            "Sukuma Wiki means 'push/stretch the week'!",
            "It's affordable and nutritious.",
            "Can be harvested multiple times.",
            "Rich in vitamins and minerals.",
          ],
          season: "Any",
          difficulty: "Easy",
        },
        {
          name: "Avocado",
          icon: "ü•ë",
          stages: ["üå±", "üåø", "üå≥", "ü•ë"],
          stageNames: ["Seed", "Sapling", "Tree", "Fruit"],
          daysToGrow: 6,
          waterNeed: 20,
          sunNeed: 25,
          nutrientNeed: 25,
          info: "Avocado is a major export crop for Kenya, growing well in central and western regions.",
          facts: [
            "Kenya is Africa's 3rd largest avocado exporter!",
            "Avocado trees can grow up to 20 meters tall.",
            "They are rich in healthy fats and vitamins.",
            "Kenya exports avocados to Europe and Middle East.",
          ],
          season: "Warm",
          difficulty: "Medium",
        },
        {
          name: "Banana",
          icon: "üçå",
          stages: ["üå±", "üåø", "üéã", "üçå"],
          stageNames: ["Sucker", "Plant", "Stem", "Bunch"],
          daysToGrow: 7,
          waterNeed: 30,
          sunNeed: 20,
          nutrientNeed: 30,
          info: "Bananas are a staple food in western Kenya and provide year-round harvest.",
          facts: [
            "Bananas are actually giant herbs, not trees!",
            "A banana plant produces only one bunch in its lifetime.",
            "Kenya grows both sweet and cooking bananas.",
            "Bananas are rich in potassium and energy.",
          ],
          season: "Tropical",
          difficulty: "Hard",
        },
      ];

      // Achievements system
      const achievements = [
        {
          id: 1,
          name: "First Harvest",
          icon: "üå±",
          description: "Harvest your first plant",
          earned: false,
        },
        {
          id: 2,
          name: "Master Farmer",
          icon: "üë®‚Äçüåæ",
          description: "Grow 10 plants",
          earned: false,
        },
        {
          id: 3,
          name: "Crop Collector",
          icon: "üåæ",
          description: "Try all crop types",
          earned: false,
        },
        {
          id: 4,
          name: "Perfect Growth",
          icon: "‚≠ê",
          description: "Keep all needs above 80% for 5 days",
          earned: false,
        },
        {
          id: 5,
          name: "Seasoned Farmer",
          icon: "üå§Ô∏è",
          description: "Play through all seasons",
          earned: false,
        },
      ];

      // Game state
      let currentCrop = 0;
      let currentStage = 0;
      let dayCount = 1;
      let water = 50;
      let sunlight = 50;
      let nutrients = 50;
      let score = 0;
      let plantsGrown = 0;
      let harvested = 0;
      let currentWeather = "sunny";
      let currentSeason = "Spring";
      let perfectDays = 0;
      let cropsTried = new Set([0]);
      let seasonsExperienced = new Set(["Spring"]);

      // Sound effects (placeholder - in real implementation, use actual sound files)
      function playSound(type) {
        try {
          const audio = document.getElementById(type + "Sound");
          if (audio) {
            audio.currentTime = 0;
            audio.play();
          }
        } catch (e) {
          console.log("Sound playback failed:", e);
        }
      }

      function initGame() {
        renderPlantSelector();
        loadCrop();
        updateDisplay();
        showRandomFact();
        updateAchievements();
        checkAchievements();

        // Load saved game if exists
        if (localStorage.getItem("plantGameSave")) {
          showNotification(
            "success",
            "üíæ Saved game found! Click Load Game to continue."
          );
        }
      }

      function renderPlantSelector() {
        const selector = document.getElementById("plantSelector");
        selector.innerHTML = crops
          .map(
            (crop, index) => `
                <div class="plant-option ${
                  index === currentCrop ? "selected" : ""
                }" 
                     onclick="selectCrop(${index})"
                     title="Season: ${crop.season} | Difficulty: ${
              crop.difficulty
            }">
                    <div class="plant-icon">${crop.icon}</div>
                    <div class="plant-label">${crop.name}</div>
                </div>
            `
          )
          .join("");
      }

      function selectCrop(index) {
        if (currentStage > 0) {
          showNotification(
            "warning",
            "‚ö†Ô∏è Finish growing your current plant first!"
          );
          return;
        }
        currentCrop = index;
        currentStage = 0;
        cropsTried.add(index);
        loadCrop();
        renderPlantSelector();
        checkAchievements();
      }

      function loadCrop() {
        const crop = crops[currentCrop];
        document.getElementById(
          "plantInfoTitle"
        ).textContent = `About ${crop.name}`;
        document.getElementById("plantInfoText").textContent = crop.info;
        updateDisplay();
        showRandomFact();
      }

      function updateDisplay() {
        const crop = crops[currentCrop];
        document.getElementById("plantDisplay").textContent =
          crop.stages[currentStage];
        document.getElementById(
          "plantName"
        ).textContent = `${crop.name} - ${crop.stageNames[currentStage]}`;
        document.getElementById("stageTitle").textContent =
          crop.stageNames[currentStage] + " Stage";
        document.getElementById("stageDesc").textContent =
          getStageDescription();
        document.getElementById("timer").textContent = `Day ${dayCount}`;
        document.getElementById("dayCount").textContent = dayCount;
        document.getElementById("seasonDisplay").textContent = currentSeason;
        document.getElementById("seasonIndicator").textContent = currentSeason;

        updateNeedBars();
        updateStats();
        checkHarvestReady();
        updateSeason();
      }

      function getStageDescription() {
        const descriptions = [
          "Your seed is planted. Keep it watered!",
          "The plant is sprouting. Maintain good care!",
          "Growing well! Keep providing nutrients.",
          "Ready to harvest! Your plant is mature.",
          "The tree is establishing roots.",
          "Flowers are forming! Pollination needed.",
          "Fruits are developing nicely.",
        ];
        return descriptions[Math.min(currentStage, descriptions.length - 1)];
      }

      function updateNeedBars() {
        water = Math.max(0, Math.min(100, water));
        sunlight = Math.max(0, Math.min(100, sunlight));
        nutrients = Math.max(0, Math.min(100, nutrients));

        document.getElementById("waterFill").style.width = water + "%";
        document.getElementById("waterValue").textContent =
          Math.round(water) + "%";

        document.getElementById("sunFill").style.width = sunlight + "%";
        document.getElementById("sunValue").textContent =
          Math.round(sunlight) + "%";

        document.getElementById("nutrientFill").style.width = nutrients + "%";
        document.getElementById("nutrientValue").textContent =
          Math.round(nutrients) + "%";

        // Change bar colors based on levels
        updateBarColor("waterFill", water);
        updateBarColor("sunFill", sunlight);
        updateBarColor("nutrientFill", nutrients);
      }

      function updateBarColor(id, value) {
        const bar = document.getElementById(id);
        if (value < 20) {
          bar.style.background =
            "linear-gradient(90deg, #f44336 0%, #e57373 100%)";
        } else if (value < 40) {
          bar.style.background =
            "linear-gradient(90deg, #ff9800 0%, #ffb74d 100%)";
        } else {
          bar.style.background =
            "linear-gradient(90deg, #4caf50 0%, #81c784 100%)";
        }
      }

      function addWater() {
        water += 30;
        playSound("water");
        if (water > 100) {
          water = 100;
          showNotification(
            "warning",
            "üíß Be careful! Too much water can harm plants!"
          );
        } else {
          showNotification("success", "üíß Plant watered successfully!");
          score += 10;
        }
        updateDisplay();
      }

      function adjustSunlight() {
        sunlight += 25;
        if (sunlight > 100) {
          sunlight = 100;
          showNotification("warning", "‚òÄÔ∏è Your plant has enough sunlight!");
        } else {
          showNotification("success", "‚òÄÔ∏è Sunlight exposure increased!");
          score += 10;
        }
        updateDisplay();
      }

      function addFertilizer() {
        nutrients += 35;
        if (nutrients > 100) {
          nutrients = 100;
          showNotification(
            "warning",
            "üåø Too much fertilizer can burn plants!"
          );
        } else {
          showNotification("success", "üåø Fertilizer added successfully!");
          score += 10;
        }
        updateDisplay();
      }

      function advanceDay() {
        dayCount++;
        const crop = crops[currentCrop];

        // Decrease needs over time with seasonal adjustments
        const seasonMultiplier = getSeasonMultiplier();
        water -= crop.waterNeed * seasonMultiplier.water;
        sunlight -= crop.sunNeed * seasonMultiplier.sun;
        nutrients -= crop.nutrientNeed;

        // Weather effects
        if (currentWeather === "rainy") {
          water += 20;
          createRainAnimation();
          showNotification("success", "üåßÔ∏è Rain helped water your plants!");
        } else if (currentWeather === "cloudy") {
          sunlight -= 10;
        }

        // Random events
        if (Math.random() < 0.2) {
          // 20% chance of random event
          triggerRandomEvent();
        }

        // Check for perfect growth
        if (water >= 80 && sunlight >= 80 && nutrients >= 80) {
          perfectDays++;
          if (perfectDays >= 5) {
            achievements[3].earned = true;
            showNotification(
              "success",
              "‚≠ê Perfect Growth Achievement Unlocked!"
            );
            updateAchievements();
          }
        } else {
          perfectDays = 0;
        }

        // Check if plant can grow
        if (water >= 30 && sunlight >= 30 && nutrients >= 30) {
          if (currentStage < crop.stages.length - 1) {
            currentStage++;
            plantsGrown++;
            score += 50;
            showNotification(
              "success",
              `üå± Your ${crop.name} grew to ${crop.stageNames[currentStage]} stage!`
            );
          }
        } else {
          showNotification(
            "warning",
            "‚ö†Ô∏è Plant needs more care! Check water, sun, and nutrients."
          );
          score -= 20;
        }

        updateDisplay();
        showRandomFact();
        checkAchievements();
      }

      function getSeasonMultiplier() {
        const seasons = {
          Spring: { water: 1.0, sun: 1.0 },
          Summer: { water: 1.3, sun: 0.8 },
          Autumn: { water: 0.9, sun: 1.1 },
          Winter: { water: 0.7, sun: 1.3 },
        };
        return seasons[currentSeason] || seasons.Spring;
      }

      function updateSeason() {
        const seasonCycle = ["Spring", "Summer", "Autumn", "Winter"];
        const seasonIndex = Math.floor((dayCount - 1) / 7) % 4;
        const newSeason = seasonCycle[seasonIndex];

        if (newSeason !== currentSeason) {
          currentSeason = newSeason;
          seasonsExperienced.add(newSeason);
          showNotification("info", `üå§Ô∏è Season changed to ${currentSeason}!`);

          // Update farm view background based on season
          updateSeasonBackground();
        }
      }

      function updateSeasonBackground() {
        const farmView = document.getElementById("farmView");
        const backgrounds = {
          Spring:
            "linear-gradient(to bottom, #87ceeb 0%, #e8f5e9 50%, #8b4513 100%)",
          Summer:
            "linear-gradient(to bottom, #4682b4 0%, #98fb98 50%, #daa520 100%)",
          Autumn:
            "linear-gradient(to bottom, #778899 0%, #d2b48c 50%, #a0522d 100%)",
          Winter:
            "linear-gradient(to bottom, #b0c4de 0%, #f0f8ff 50%, #696969 100%)",
        };
        farmView.style.background =
          backgrounds[currentSeason] || backgrounds.Spring;
      }

      function triggerRandomEvent() {
        const events = [
          {
            type: "pest",
            message: "üêõ Pest attack! Some nutrients lost.",
            effect: () => {
              nutrients = Math.max(0, nutrients - 30);
            },
          },
          {
            type: "wind",
            message: "üí® Strong winds! Water evaporates faster.",
            effect: () => {
              water = Math.max(0, water - 20);
            },
          },
          {
            type: "helper",
            message: "üë®‚Äçüåæ A fellow farmer helped! All needs increased.",
            effect: () => {
              water = Math.min(100, water + 15);
              sunlight = Math.min(100, sunlight + 15);
              nutrients = Math.min(100, nutrients + 15);
            },
          },
        ];

        const event = events[Math.floor(Math.random() * events.length)];
        event.effect();
        showNotification("warning", event.message);

        if (event.type === "pest") {
          createPestAnimation();
        }
      }

      function createPestAnimation() {
        const farmView = document.getElementById("farmView");
        const pest = document.createElement("div");
        pest.className = "pest-animation";
        pest.textContent = "üêõ";
        pest.style.top = Math.random() * 300 + 100 + "px";
        farmView.appendChild(pest);

        setTimeout(() => {
          farmView.removeChild(pest);
        }, 3000);
      }

      function createRainAnimation() {
        const farmView = document.getElementById("farmView");
        const rain = document.createElement("div");
        rain.className = "rain-animation";

        for (let i = 0; i < 50; i++) {
          const drop = document.createElement("div");
          drop.className = "rain-drop";
          drop.style.left = Math.random() * 100 + "%";
          drop.style.animationDelay = Math.random() * 2 + "s";
          rain.appendChild(drop);
        }

        farmView.appendChild(rain);
        setTimeout(() => {
          farmView.removeChild(rain);
        }, 2000);
      }

      function checkHarvestReady() {
        const crop = crops[currentCrop];
        const harvestBtn = document.getElementById("harvestBtn");

        if (currentStage === crop.stages.length - 1) {
          harvestBtn.disabled = false;
        } else {
          harvestBtn.disabled = true;
        }
      }

      function harvestPlant() {
        const crop = crops[currentCrop];
        harvested++;
        score += 100;
        playSound("harvest");
        showNotification("success", `üéâ Harvested ${crop.name}! +100 points!`);

        // Reset for new plant
        currentStage = 0;
        water = 50;
        sunlight = 50;
        nutrients = 50;

        updateDisplay();
        checkAchievements();
      }

      function setWeather(weather) {
        currentWeather = weather;
        const buttons = document.querySelectorAll(".weather-btn");
        buttons.forEach((btn) => btn.classList.remove("active"));

        const sun = document.getElementById("sun");
        const clouds = document.getElementById("clouds");

        if (weather === "sunny") {
          sun.style.opacity = "1";
          clouds.style.opacity = "0.3";
          event.target.classList.add("active");
        } else if (weather === "cloudy") {
          sun.style.opacity = "0.3";
          clouds.style.opacity = "1";
          event.target.classList.add("active");
        } else if (weather === "rainy") {
          sun.style.opacity = "0";
          clouds.style.opacity = "1";
          clouds.textContent = "üåßÔ∏è";
          event.target.classList.add("active");
        }
      }

      function showNotification(type, message) {
        const notification = document.getElementById("notification");
        notification.className = `notification ${type} show`;
        document.getElementById("notificationText").textContent = message;

        setTimeout(() => {
          notification.classList.remove("show");
        }, 3000);
      }

      function showRandomFact() {
        const crop = crops[currentCrop];
        const randomFact =
          crop.facts[Math.floor(Math.random() * crop.facts.length)];
        document.getElementById("factText").textContent = randomFact;
      }

      function updateStats() {
        document.getElementById("score").textContent = score;
        document.getElementById("plantsGrown").textContent = plantsGrown;
        document.getElementById("harvested").textContent = harvested;
      }

      // Achievement system
      function checkAchievements() {
        // First Harvest
        if (harvested >= 1 && !achievements[0].earned) {
          achievements[0].earned = true;
          showNotification(
            "success",
            "üèÜ Achievement Unlocked: First Harvest!"
          );
        }

        // Master Farmer
        if (plantsGrown >= 10 && !achievements[1].earned) {
          achievements[1].earned = true;
          showNotification(
            "success",
            "üèÜ Achievement Unlocked: Master Farmer!"
          );
        }

        // Crop Collector
        if (cropsTried.size >= crops.length && !achievements[2].earned) {
          achievements[2].earned = true;
          showNotification(
            "success",
            "üèÜ Achievement Unlocked: Crop Collector!"
          );
        }

        // Seasoned Farmer
        if (seasonsExperienced.size >= 4 && !achievements[4].earned) {
          achievements[4].earned = true;
          showNotification(
            "success",
            "üèÜ Achievement Unlocked: Seasoned Farmer!"
          );
        }

        updateAchievements();
      }

      function updateAchievements() {
        const achievementsList = document.getElementById("achievementsList");
        achievementsList.innerHTML = achievements
          .map(
            (achievement) => `
                <div class="achievement ${achievement.earned ? "" : "locked"}">
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div>
                        <div style="font-weight: bold;">${
                          achievement.name
                        }</div>
                        <div style="font-size: 0.8rem; color: #666;">${
                          achievement.description
                        }</div>
                    </div>
                </div>
            `
          )
          .join("");
      }

      // Save/Load system
      function saveGame() {
        const gameData = {
          currentCrop,
          currentStage,
          dayCount,
          water,
          sunlight,
          nutrients,
          score,
          plantsGrown,
          harvested,
          currentWeather,
          currentSeason,
          perfectDays,
          cropsTried: Array.from(cropsTried),
          seasonsExperienced: Array.from(seasonsExperienced),
          achievements: achievements.map((a) => ({ ...a })),
        };

        localStorage.setItem("plantGameSave", JSON.stringify(gameData));
        showNotification("success", "üíæ Game saved successfully!");
      }

      function loadGame() {
        const savedData = localStorage.getItem("plantGameSave");
        if (!savedData) {
          showNotification("error", "‚ùå No saved game found!");
          return;
        }

        try {
          const gameData = JSON.parse(savedData);

          // Restore game state
          currentCrop = gameData.currentCrop;
          currentStage = gameData.currentStage;
          dayCount = gameData.dayCount;
          water = gameData.water;
          sunlight = gameData.sunlight;
          nutrients = gameData.nutrients;
          score = gameData.score;
          plantsGrown = gameData.plantsGrown;
          harvested = gameData.harvested;
          currentWeather = gameData.currentWeather;
          currentSeason = gameData.currentSeason;
          perfectDays = gameData.perfectDays;
          cropsTried = new Set(gameData.cropsTried);
          seasonsExperienced = new Set(gameData.seasonsExperienced);
          achievements = gameData.achievements;

          // Update UI
          renderPlantSelector();
          loadCrop();
          updateDisplay();
          updateAchievements();
          setWeather(currentWeather);

          showNotification("success", "üìÇ Game loaded successfully!");
        } catch (e) {
          showNotification("error", "‚ùå Error loading saved game!");
          console.error("Load error:", e);
        }
      }

      // Initialize the game
      initGame();
    </script>
  </body>
</html>
