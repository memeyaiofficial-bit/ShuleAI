<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Climate Crusader - Environmental Science Adventure</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(
          135deg,
          #4caf50 0%,
          #2196f3 50%,
          #ff9800 100%
        );
        min-height: 100vh;
        padding: 20px;
      }

      .game-container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        padding: 30px;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .title {
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
      }

      .subtitle {
        color: #7f8c8d;
        font-size: 1.1rem;
        margin-bottom: 20px;
      }

      .earth-container {
        display: flex;
        justify-content: center;
        margin: 20px 0;
      }

      .earth {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        background: linear-gradient(45deg, #4caf50, #2196f3);
        position: relative;
        animation: rotate 10s linear infinite;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .earth::before {
        content: "";
        position: absolute;
        top: 20px;
        left: 30px;
        width: 40px;
        height: 30px;
        background: #8bc34a;
        border-radius: 50% 20% 50% 20%;
      }

      .earth::after {
        content: "";
        position: absolute;
        bottom: 30px;
        right: 40px;
        width: 50px;
        height: 35px;
        background: #4caf50;
        border-radius: 30% 50% 30% 50%;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .game-area {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        border: 2px solid #e9ecef;
      }

      .challenge-area {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border: 2px solid #4caf50;
      }

      .challenge-text {
        font-size: 1.2rem;
        color: #2c3e50;
        margin-bottom: 15px;
        text-align: center;
      }

      .actions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .action-card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        border: 2px solid #e9ecef;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .action-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .action-card.positive {
        border-color: #4caf50;
        background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
      }

      .action-card.negative {
        border-color: #f44336;
        background: linear-gradient(135deg, #ffebee, #ffcdd2);
      }

      .action-card.neutral {
        border-color: #ff9800;
        background: linear-gradient(135deg, #fff8e1, #ffecb3);
      }

      .action-icon {
        font-size: 3rem;
        margin-bottom: 10px;
      }

      .action-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 8px;
        color: #2c3e50;
      }

      .action-description {
        font-size: 0.9rem;
        color: #7f8c8d;
        margin-bottom: 10px;
      }

      .action-impact {
        font-size: 0.8rem;
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 15px;
        display: inline-block;
      }

      .impact-positive {
        background: #4caf50;
        color: white;
      }

      .impact-negative {
        background: #f44336;
        color: white;
      }

      .impact-neutral {
        background: #ff9800;
        color: white;
      }

      .score-board {
        display: flex;
        justify-content: space-around;
        background: #34495e;
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .score-item {
        text-align: center;
      }

      .score-value {
        font-size: 1.5rem;
        font-weight: bold;
      }

      .score-label {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .progress-bar {
        width: 100%;
        height: 20px;
        background: #ecf0f1;
        border-radius: 10px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #4caf50, #8bc34a);
        transition: width 0.3s ease;
        border-radius: 10px;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
      }

      .btn {
        padding: 12px 30px;
        border: none;
        border-radius: 25px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
      }

      .btn-primary {
        background: #4caf50;
        color: white;
      }

      .btn-secondary {
        background: #95a5a6;
        color: white;
      }

      .btn-warning {
        background: #ff9800;
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .info-panel {
        background: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
      }

      .info-title {
        color: #2c3e50;
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .info-text {
        color: #34495e;
        line-height: 1.6;
      }

      .feedback {
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        text-align: center;
        font-weight: bold;
        display: none;
      }

      .feedback.positive {
        background: #d5f4e6;
        color: #27ae60;
        border: 2px solid #27ae60;
      }

      .feedback.negative {
        background: #fadbd8;
        color: #e74c3c;
        border: 2px solid #e74c3c;
      }

      .climate-meter {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin: 15px 0;
      }

      .temperature-icon {
        font-size: 2rem;
      }

      .temp-cold {
        color: #3498db;
      }
      .temp-normal {
        color: #4caf50;
      }
      .temp-warm {
        color: #ff9800;
      }
      .temp-hot {
        color: #f44336;
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1 class="title">üåç Climate Crusader</h1>
        <p class="subtitle">
          Save the planet through smart environmental choices!
        </p>
      </div>

      <div class="earth-container">
        <div class="earth" id="earth"></div>
      </div>

      <div class="score-board">
        <div class="score-item">
          <div class="score-value" id="environmentScore">100</div>
          <div class="score-label">Environment Health</div>
        </div>
        <div class="score-item">
          <div class="score-value" id="level">1</div>
          <div class="score-label">Challenge Level</div>
        </div>
        <div class="score-item">
          <div class="score-value" id="actionsCount">0</div>
          <div class="score-label">Actions Taken</div>
        </div>
      </div>

      <div class="climate-meter">
        <span class="temperature-icon" id="tempIcon">üå°Ô∏è</span>
        <div class="progress-bar">
          <div class="progress-fill" id="climateFill" style="width: 50%"></div>
        </div>
        <span id="climateStatus">Stable</span>
      </div>

      <div class="challenge-area">
        <div class="challenge-text" id="challengeText">
          Choose your environmental action to help combat climate change!
        </div>
      </div>

      <div class="game-area">
        <div class="actions-grid" id="actionsGrid">
          <!-- Action cards will be generated here -->
        </div>
      </div>

      <div class="feedback" id="feedback"></div>

      <div class="controls">
        <button class="btn btn-secondary" onclick="restartGame()">
          Restart
        </button>
        <button class="btn btn-primary" onclick="nextLevel()">
          Next Level
        </button>
        <button class="btn btn-warning" onclick="showTips()">
          Climate Tips
        </button>
      </div>

      <div class="info-panel">
        <h3 class="info-title">üå± Climate Action Guide:</h3>
        <div class="info-text">
          <strong>Green Actions:</strong> Help reduce carbon footprint and
          protect the environment<br />
          <strong>Red Actions:</strong> Increase pollution and harm the
          environment<br />
          <strong>Orange Actions:</strong> Mixed impact - consider carefully!<br />
          <strong>Goal:</strong> Keep Environment Health above 50 and reach
          higher levels!
        </div>
      </div>
    </div>

    <script>
      // Global functions for onclick events
      function selectAction(actionId) {
        if (window.climateGame) {
          window.climateGame.selectAction(actionId);
        }
      }

      function restartGame() {
        if (window.climateGame) {
          window.climateGame.restart();
        }
      }

      function nextLevel() {
        if (window.climateGame) {
          window.climateGame.nextLevel();
        }
      }

      function showTips() {
        if (window.climateGame) {
          window.climateGame.showTips();
        }
      }

      class ClimateCrusader {
        constructor() {
          this.environmentScore = 100;
          this.level = 1;
          this.actionsCount = 0;
          this.climateHealth = 50; // 0-100 scale

          this.actions = [
            {
              id: "solar",
              icon: "‚òÄÔ∏è",
              title: "Install Solar Panels",
              description: "Use renewable energy from the sun",
              impact: 15,
              type: "positive",
            },
            {
              id: "recycle",
              icon: "‚ôªÔ∏è",
              title: "Start Recycling Program",
              description: "Reduce waste and reuse materials",
              impact: 10,
              type: "positive",
            },
            {
              id: "forest",
              icon: "üå≥",
              title: "Plant Trees",
              description: "Increase carbon absorption",
              impact: 12,
              type: "positive",
            },
            {
              id: "coal",
              icon: "üè≠",
              title: "Build Coal Plant",
              description: "Cheap energy but high pollution",
              impact: -20,
              type: "negative",
            },
            {
              id: "deforest",
              icon: "ü™ì",
              title: "Clear Forest",
              description: "Make space for development",
              impact: -15,
              type: "negative",
            },
            {
              id: "cars",
              icon: "üöó",
              title: "Promote Electric Cars",
              description: "Reduce transportation emissions",
              impact: 8,
              type: "positive",
            },
            {
              id: "plastic",
              icon: "üõçÔ∏è",
              title: "Ban Single-Use Plastics",
              description: "Reduce ocean pollution",
              impact: 7,
              type: "positive",
            },
            {
              id: "oil",
              icon: "üõ¢Ô∏è",
              title: "Expand Oil Drilling",
              description: "Increase fossil fuel extraction",
              impact: -18,
              type: "negative",
            },
          ];

          this.challenges = [
            "Your city needs to reduce carbon emissions by 20%",
            "Ocean plastic pollution is affecting marine life",
            "Deforestation is increasing in your region",
            "Energy demand is growing rapidly",
            "Transportation emissions are rising",
            "Waste management needs improvement",
          ];

          this.init();
        }

        init() {
          this.generateActions();
          this.updateDisplay();
          this.updateChallenge();
        }

        generateActions() {
          const grid = document.getElementById("actionsGrid");
          grid.innerHTML = "";

          // Randomly select 4 actions for this level
          const shuffledActions = [...this.actions].sort(
            () => Math.random() - 0.5,
          );
          const levelActions = shuffledActions.slice(0, 4);

          levelActions.forEach((action) => {
            const card = document.createElement("div");
            card.className = `action-card ${action.type}`;
            card.onclick = () => this.selectAction(action.id);

            card.innerHTML = `
                        <div class="action-icon">${action.icon}</div>
                        <div class="action-title">${action.title}</div>
                        <div class="action-description">${action.description}</div>
                        <div class="action-impact impact-${action.type}">
                            ${action.impact > 0 ? "+" : ""}${action.impact} Environment
                        </div>
                    `;

            grid.appendChild(card);
          });
        }

        selectAction(actionId) {
          const action = this.actions.find((a) => a.id === actionId);
          if (!action) return;

          this.environmentScore += action.impact;
          this.actionsCount++;

          // Clamp environment score between 0 and 150
          this.environmentScore = Math.max(
            0,
            Math.min(150, this.environmentScore),
          );

          // Update climate health based on environment score
          this.climateHealth = Math.max(
            0,
            Math.min(100, this.environmentScore - 25),
          );

          this.showFeedback(action);
          this.updateDisplay();
          this.checkGameState();

          // Generate new actions after a delay
          setTimeout(() => {
            this.generateActions();
            this.hideFeedback();
          }, 2000);
        }

        showFeedback(action) {
          const feedback = document.getElementById("feedback");
          const isPositive = action.impact > 0;

          feedback.textContent = `${action.title}: ${isPositive ? "Great choice!" : "This hurt the environment!"} 
                    Environment ${action.impact > 0 ? "+" : ""}${action.impact}`;
          feedback.className = `feedback ${isPositive ? "positive" : "negative"}`;
          feedback.style.display = "block";
        }

        hideFeedback() {
          document.getElementById("feedback").style.display = "none";
        }

        updateDisplay() {
          document.getElementById("environmentScore").textContent =
            this.environmentScore;
          document.getElementById("level").textContent = this.level;
          document.getElementById("actionsCount").textContent =
            this.actionsCount;

          // Update climate meter
          const climateFill = document.getElementById("climateFill");
          const tempIcon = document.getElementById("tempIcon");
          const climateStatus = document.getElementById("climateStatus");

          climateFill.style.width = `${this.climateHealth}%`;

          if (this.climateHealth >= 80) {
            tempIcon.className = "temperature-icon temp-normal";
            tempIcon.textContent = "üå±";
            climateStatus.textContent = "Thriving";
            climateFill.style.background =
              "linear-gradient(90deg, #4CAF50, #8BC34A)";
          } else if (this.climateHealth >= 60) {
            tempIcon.className = "temperature-icon temp-normal";
            tempIcon.textContent = "üåç";
            climateStatus.textContent = "Healthy";
            climateFill.style.background =
              "linear-gradient(90deg, #4CAF50, #FFC107)";
          } else if (this.climateHealth >= 40) {
            tempIcon.className = "temperature-icon temp-warm";
            tempIcon.textContent = "üå°Ô∏è";
            climateStatus.textContent = "Warning";
            climateFill.style.background =
              "linear-gradient(90deg, #FF9800, #FFC107)";
          } else if (this.climateHealth >= 20) {
            tempIcon.className = "temperature-icon temp-hot";
            tempIcon.textContent = "üî•";
            climateStatus.textContent = "Critical";
            climateFill.style.background =
              "linear-gradient(90deg, #F44336, #FF5722)";
          } else {
            tempIcon.className = "temperature-icon temp-hot";
            tempIcon.textContent = "üíÄ";
            climateStatus.textContent = "Catastrophic";
            climateFill.style.background =
              "linear-gradient(90deg, #8B0000, #DC143C)";
          }

          // Update Earth appearance
          this.updateEarth();
        }

        updateEarth() {
          const earth = document.getElementById("earth");
          if (this.environmentScore >= 100) {
            earth.style.background = "linear-gradient(45deg, #4CAF50, #2196F3)";
          } else if (this.environmentScore >= 70) {
            earth.style.background = "linear-gradient(45deg, #8BC34A, #03A9F4)";
          } else if (this.environmentScore >= 40) {
            earth.style.background = "linear-gradient(45deg, #FFC107, #FF9800)";
          } else {
            earth.style.background = "linear-gradient(45deg, #F44336, #795548)";
          }
        }

        updateChallenge() {
          const challengeText = document.getElementById("challengeText");
          const challengeIndex = (this.level - 1) % this.challenges.length;
          challengeText.textContent = this.challenges[challengeIndex];
        }

        checkGameState() {
          if (this.environmentScore <= 0) {
            alert("Game Over! The environment has been destroyed. Try again!");
            this.restart();
          } else if (
            this.actionsCount % 10 === 0 &&
            this.environmentScore >= 80
          ) {
            alert(`Level Complete! You've reached level ${this.level + 1}!`);
            this.nextLevel();
          }
        }

        nextLevel() {
          if (this.environmentScore >= 50) {
            this.level++;
            this.updateChallenge();
            this.generateActions();
          } else {
            alert("Environment Health must be at least 50 to advance!");
          }
        }

        restart() {
          this.environmentScore = 100;
          this.level = 1;
          this.actionsCount = 0;
          this.climateHealth = 50;
          this.updateDisplay();
          this.updateChallenge();
          this.generateActions();
          this.hideFeedback();
        }

        showTips() {
          alert(`Climate Action Tips:
                
‚Ä¢ Renewable energy (solar, wind) is always a good choice
‚Ä¢ Recycling and reducing waste helps significantly
‚Ä¢ Planting trees creates carbon sinks
‚Ä¢ Electric vehicles reduce transportation emissions
‚Ä¢ Banning single-use plastics protects oceans
‚Ä¢ Avoid fossil fuel expansion and deforestation
                
Remember: Every action has consequences for our planet!`);
        }
      }

      // Initialize game when page loads
      window.addEventListener("load", () => {
        window.climateGame = new ClimateCrusader();
      });
    </script>
  </body>
</html>
