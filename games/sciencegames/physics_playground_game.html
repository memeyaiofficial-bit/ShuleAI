<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Physics Playground - Interactive Physics Experiments</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 50%,
          #f093fb 100%
        );
        min-height: 100vh;
        padding: 20px;
      }

      .game-container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        padding: 30px;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .title {
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
      }

      .subtitle {
        color: #7f8c8d;
        font-size: 1.1rem;
        margin-bottom: 20px;
      }

      .experiment-area {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        border: 2px solid #e9ecef;
        min-height: 400px;
        position: relative;
      }

      .physics-simulator {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 350px;
        background: linear-gradient(135deg, #ecf0f1, #bdc3c7);
        border-radius: 10px;
        margin: 20px 0;
        position: relative;
        overflow: hidden;
      }

      .pendulum-container {
        width: 100%;
        height: 250px;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding-top: 20px;
      }

      .pendulum {
        position: absolute;
        top: 20px;
        transform-origin: top center;
        transition: transform 0.5s ease-in-out;
      }

      .pendulum-string {
        width: 2px;
        height: 150px;
        background: #2c3e50;
        margin: 0 auto;
      }

      .pendulum-weight {
        width: 40px;
        height: 40px;
        background: #e74c3c;
        border-radius: 50%;
        margin: 0 auto;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        position: relative;
      }

      .pendulum-weight::after {
        content: "";
        position: absolute;
        top: 5px;
        left: 5px;
        width: 30px;
        height: 30px;
        background: radial-gradient(circle at 10px 10px, #ff6b6b, #e74c3c);
        border-radius: 50%;
      }

      .spring-container {
        width: 200px;
        height: 200px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        display: none;
      }

      .spring {
        width: 20px;
        height: 120px;
        background: repeating-linear-gradient(
          to bottom,
          #3498db 0px,
          #3498db 8px,
          transparent 8px,
          transparent 12px
        );
        border: 2px solid #2980b9;
        transition: transform 0.3s ease;
      }

      .spring-weight {
        width: 60px;
        height: 30px;
        background: #34495e;
        border-radius: 5px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .projectile-container {
        width: 100%;
        height: 250px;
        position: relative;
        display: none;
        background: linear-gradient(to bottom, #87ceeb 0%, #98fb98 100%);
        border-radius: 10px;
        overflow: hidden;
      }

      .cannon {
        position: absolute;
        bottom: 20px;
        left: 50px;
        width: 80px;
        height: 40px;
        background: #2c3e50;
        border-radius: 5px;
        transform-origin: center right;
      }

      .projectile {
        position: absolute;
        width: 15px;
        height: 15px;
        background: #e74c3c;
        border-radius: 50%;
        display: none;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }

      .experiment-controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
      }

      .control-label {
        font-size: 0.9rem;
        font-weight: bold;
        color: #2c3e50;
      }

      .control-slider {
        width: 120px;
        height: 6px;
        background: #ecf0f1;
        border-radius: 3px;
        outline: none;
        -webkit-appearance: none;
      }

      .control-slider::-webkit-slider-thumb {
        appearance: none;
        width: 18px;
        height: 18px;
        background: #3498db;
        border-radius: 50%;
        cursor: pointer;
      }

      .experiment-tabs {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 20px 0;
      }

      .tab-button {
        padding: 10px 20px;
        border: none;
        border-radius: 20px;
        background: #ecf0f1;
        color: #2c3e50;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
      }

      .tab-button.active {
        background: #3498db;
        color: white;
      }

      .tab-button:hover {
        transform: translateY(-2px);
      }

      .score-board {
        display: flex;
        justify-content: space-around;
        background: #34495e;
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .score-item {
        text-align: center;
      }

      .score-value {
        font-size: 1.5rem;
        font-weight: bold;
      }

      .score-label {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
      }

      .btn {
        padding: 12px 30px;
        border: none;
        border-radius: 25px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
      }

      .btn-primary {
        background: #3498db;
        color: white;
      }

      .btn-secondary {
        background: #95a5a6;
        color: white;
      }

      .btn-success {
        background: #27ae60;
        color: white;
      }

      .btn-warning {
        background: #f39c12;
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .info-panel {
        background: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
      }

      .info-title {
        color: #2c3e50;
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .info-text {
        color: #34495e;
        line-height: 1.6;
      }

      .feedback {
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        text-align: center;
        font-weight: bold;
        display: none;
      }

      .feedback.success {
        background: #d5f4e6;
        color: #27ae60;
        border: 2px solid #27ae60;
      }

      .feedback.info {
        background: #e3f2fd;
        color: #1976d2;
        border: 2px solid #2196f3;
      }

      .measurement-display {
        display: flex;
        justify-content: space-around;
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        border: 2px solid #3498db;
      }

      .measurement {
        text-align: center;
      }

      .measurement-value {
        font-size: 1.3rem;
        font-weight: bold;
        color: #2c3e50;
      }

      .measurement-unit {
        font-size: 0.8rem;
        color: #7f8c8d;
      }

      @keyframes swing {
        0% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(30deg);
        }
        75% {
          transform: rotate(-30deg);
        }
        100% {
          transform: rotate(0deg);
        }
      }

      .swinging {
        animation: swing 2s ease-in-out infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .bouncing {
        animation: bounce 1s ease-in-out infinite;
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1 class="title">‚öóÔ∏è Physics Playground</h1>
        <p class="subtitle">
          Explore physics concepts through interactive experiments!
        </p>
      </div>

      <div class="score-board">
        <div class="score-item">
          <div class="score-value" id="experimentsCompleted">0</div>
          <div class="score-label">Experiments</div>
        </div>
        <div class="score-item">
          <div class="score-value" id="accuracy">100</div>
          <div class="score-label">Accuracy %</div>
        </div>
        <div class="score-item">
          <div class="score-value" id="level">1</div>
          <div class="score-label">Level</div>
        </div>
      </div>

      <div class="experiment-tabs">
        <button
          class="tab-button active"
          onclick="switchExperiment('pendulum')"
        >
          üï∞Ô∏è Pendulum
        </button>
        <button class="tab-button" onclick="switchExperiment('spring')">
          üåÄ Spring
        </button>
        <button class="tab-button" onclick="switchExperiment('projectile')">
          üéØ Projectile
        </button>
      </div>

      <div class="experiment-area">
        <div class="physics-simulator">
          <!-- Pendulum Experiment -->
          <div class="pendulum-container" id="pendulumContainer">
            <div class="pendulum" id="pendulum">
              <div class="pendulum-string"></div>
              <div class="pendulum-weight"></div>
            </div>
          </div>

          <!-- Spring Experiment -->
          <div class="spring-container" id="springContainer">
            <div class="spring" id="spring"></div>
            <div class="spring-weight"></div>
          </div>

          <!-- Projectile Experiment -->
          <div class="projectile-container" id="projectileContainer">
            <div class="cannon" id="cannon"></div>
            <div class="projectile" id="projectile"></div>
          </div>
        </div>

        <div class="experiment-controls" id="experimentControls">
          <!-- Controls will be dynamically generated -->
        </div>

        <div class="measurement-display">
          <div class="measurement">
            <div class="measurement-value" id="measurement1Value">0</div>
            <div class="measurement-unit" id="measurement1Unit">seconds</div>
          </div>
          <div class="measurement">
            <div class="measurement-value" id="measurement2Value">0</div>
            <div class="measurement-unit" id="measurement2Unit">degrees</div>
          </div>
          <div class="measurement">
            <div class="measurement-value" id="measurement3Value">0</div>
            <div class="measurement-unit" id="measurement3Unit">m/s</div>
          </div>
        </div>
      </div>

      <div class="feedback" id="feedback"></div>

      <div class="controls">
        <button class="btn btn-primary" onclick="startExperiment()">
          Start Experiment
        </button>
        <button class="btn btn-secondary" onclick="resetExperiment()">
          Reset
        </button>
        <button class="btn btn-success" onclick="recordMeasurement()">
          Record Data
        </button>
        <button class="btn btn-warning" onclick="showFormula()">
          Show Formula
        </button>
      </div>

      <div class="info-panel">
        <h3 class="info-title">üî¨ Physics Concepts:</h3>
        <div class="info-text" id="conceptInfo">
          <strong>Pendulum:</strong> Simple harmonic motion where period depends
          on length and gravity.<br />
          <strong>Spring:</strong> Hooke's Law demonstrates force proportional
          to displacement.<br />
          <strong>Projectile:</strong> Motion under gravity with horizontal and
          vertical components.<br />
          Experiment with different parameters to discover physical laws!
        </div>
      </div>
    </div>

    <script>
      // Global functions for onclick events
      function switchExperiment(type) {
        if (window.physicsGame) {
          window.physicsGame.switchExperiment(type);
        }
      }

      function startExperiment() {
        if (window.physicsGame) {
          window.physicsGame.startExperiment();
        }
      }

      function resetExperiment() {
        if (window.physicsGame) {
          window.physicsGame.resetExperiment();
        }
      }

      function recordMeasurement() {
        if (window.physicsGame) {
          window.physicsGame.recordMeasurement();
        }
      }

      function showFormula() {
        if (window.physicsGame) {
          window.physicsGame.showFormula();
        }
      }

      class PhysicsPlayground {
        constructor() {
          this.experimentsCompleted = 0;
          this.accuracy = 100;
          this.level = 1;
          this.currentExperiment = "pendulum";
          this.isRunning = false;
          this.measurements = [];

          this.experiments = {
            pendulum: {
              name: "Simple Pendulum",
              description: "Study oscillatory motion and period calculation",
              formula: "T = 2œÄ‚àö(L/g)",
              controls: [
                {
                  id: "length",
                  label: "Length (m)",
                  min: 0.5,
                  max: 2,
                  value: 1,
                  step: 0.1,
                },
                {
                  id: "angle",
                  label: "Angle (¬∞)",
                  min: 5,
                  max: 45,
                  value: 15,
                  step: 5,
                },
              ],
            },
            spring: {
              name: "Spring Oscillator",
              description: "Explore Hooke's Law and elastic motion",
              formula: "F = -kx",
              controls: [
                {
                  id: "stiffness",
                  label: "Spring Constant",
                  min: 1,
                  max: 10,
                  value: 5,
                  step: 1,
                },
                {
                  id: "mass",
                  label: "Mass (kg)",
                  min: 0.1,
                  max: 2,
                  value: 0.5,
                  step: 0.1,
                },
              ],
            },
            projectile: {
              name: "Projectile Motion",
              description: "Analyze trajectory and range calculations",
              formula: "R = v¬≤sin(2Œ∏)/g",
              controls: [
                {
                  id: "velocity",
                  label: "Velocity (m/s)",
                  min: 10,
                  max: 50,
                  value: 30,
                  step: 5,
                },
                {
                  id: "angle",
                  label: "Angle (¬∞)",
                  min: 15,
                  max: 75,
                  value: 45,
                  step: 15,
                },
              ],
            },
          };

          this.init();
        }

        init() {
          this.switchExperiment("pendulum");
          this.updateDisplay();
        }

        switchExperiment(type) {
          this.currentExperiment = type;
          this.resetExperiment();

          // Update active tab
          document
            .querySelectorAll(".tab-button")
            .forEach((btn) => btn.classList.remove("active"));
          event.target.classList.add("active");

          // Show/hide experiment containers
          document.getElementById("pendulumContainer").style.display =
            type === "pendulum" ? "flex" : "none";
          document.getElementById("springContainer").style.display =
            type === "spring" ? "flex" : "none";
          document.getElementById("projectileContainer").style.display =
            type === "projectile" ? "block" : "none";

          this.generateControls();
          this.updateConceptInfo();
          this.updateMeasurements();
        }

        generateControls() {
          const controlsContainer =
            document.getElementById("experimentControls");
          const experiment = this.experiments[this.currentExperiment];

          controlsContainer.innerHTML = "";

          experiment.controls.forEach((control) => {
            const controlGroup = document.createElement("div");
            controlGroup.className = "control-group";

            controlGroup.innerHTML = `
                        <div class="control-label">${control.label}</div>
                        <input type="range" 
                               class="control-slider" 
                               id="${control.id}" 
                               min="${control.min}" 
                               max="${control.max}" 
                               value="${control.value}" 
                               step="${control.step}"
                               oninput="window.physicsGame.updateParameter('${control.id}', this.value)">
                        <div class="control-value" id="${control.id}Value">${control.value}</div>
                    `;

            controlsContainer.appendChild(controlGroup);
          });
        }

        updateParameter(parameterId, value) {
          document.getElementById(`${parameterId}Value`).textContent = value;
          this.updateMeasurements();
        }

        startExperiment() {
          if (this.isRunning) return;

          this.isRunning = true;

          switch (this.currentExperiment) {
            case "pendulum":
              this.startPendulumAnimation();
              break;
            case "spring":
              this.startSpringAnimation();
              break;
            case "projectile":
              this.startProjectileAnimation();
              break;
          }

          setTimeout(() => {
            this.isRunning = false;
            this.showFeedback(
              "Experiment completed! Check your measurements.",
              "success",
            );
          }, 3000);
        }

        startPendulumAnimation() {
          const pendulum = document.getElementById("pendulum");
          const angle = parseFloat(document.getElementById("angle").value);

          pendulum.style.transform = `rotate(${angle}deg)`;
          pendulum.classList.add("swinging");

          setTimeout(() => {
            pendulum.classList.remove("swinging");
            pendulum.style.transform = "rotate(0deg)";
          }, 3000);
        }

        startSpringAnimation() {
          const spring = document.getElementById("spring");
          spring.classList.add("bouncing");

          setTimeout(() => {
            spring.classList.remove("bouncing");
          }, 3000);
        }

        startProjectileAnimation() {
          const projectile = document.getElementById("projectile");
          const cannon = document.getElementById("cannon");
          const angle = parseFloat(document.getElementById("angle").value);
          const velocity = parseFloat(
            document.getElementById("velocity").value,
          );

          cannon.style.transform = `rotate(${-angle}deg)`;

          projectile.style.display = "block";
          projectile.style.left = "130px";
          projectile.style.bottom = "60px";

          // Calculate trajectory
          const range =
            (velocity * velocity * Math.sin((2 * angle * Math.PI) / 180)) /
            9.81;
          const maxHeight =
            (velocity *
              velocity *
              Math.sin((angle * Math.PI) / 180) *
              Math.sin((angle * Math.PI) / 180)) /
            (2 * 9.81);

          // Animate projectile
          projectile.style.transition = "all 2s ease-out";
          projectile.style.left = `${130 + range * 2}px`;
          projectile.style.bottom = "20px";
          projectile.style.transform = `translateY(-${maxHeight * 10}px)`;

          setTimeout(() => {
            projectile.style.display = "none";
            projectile.style.transition = "none";
            projectile.style.transform = "none";
          }, 2000);
        }

        updateMeasurements() {
          const experiment = this.experiments[this.currentExperiment];

          switch (this.currentExperiment) {
            case "pendulum":
              const length = parseFloat(
                document.getElementById("length").value,
              );
              const period = 2 * Math.PI * Math.sqrt(length / 9.81);
              const frequency = 1 / period;

              document.getElementById("measurement1Value").textContent =
                period.toFixed(2);
              document.getElementById("measurement1Unit").textContent =
                "seconds (Period)";
              document.getElementById("measurement2Value").textContent =
                frequency.toFixed(2);
              document.getElementById("measurement2Unit").textContent =
                "Hz (Frequency)";
              document.getElementById("measurement3Value").textContent = length;
              document.getElementById("measurement3Unit").textContent =
                "m (Length)";
              break;

            case "spring":
              const stiffness = parseFloat(
                document.getElementById("stiffness").value,
              );
              const mass = parseFloat(document.getElementById("mass").value);
              const springPeriod = 2 * Math.PI * Math.sqrt(mass / stiffness);

              document.getElementById("measurement1Value").textContent =
                springPeriod.toFixed(2);
              document.getElementById("measurement1Unit").textContent =
                "seconds (Period)";
              document.getElementById("measurement2Value").textContent =
                stiffness;
              document.getElementById("measurement2Unit").textContent =
                "N/m (k)";
              document.getElementById("measurement3Value").textContent = mass;
              document.getElementById("measurement3Unit").textContent =
                "kg (Mass)";
              break;

            case "projectile":
              const velocity = parseFloat(
                document.getElementById("velocity").value,
              );
              const angle = parseFloat(document.getElementById("angle").value);
              const range =
                (velocity * velocity * Math.sin((2 * angle * Math.PI) / 180)) /
                9.81;
              const maxHeight =
                (velocity *
                  velocity *
                  Math.sin((angle * Math.PI) / 180) *
                  Math.sin((angle * Math.PI) / 180)) /
                (2 * 9.81);

              document.getElementById("measurement1Value").textContent =
                range.toFixed(2);
              document.getElementById("measurement1Unit").textContent =
                "m (Range)";
              document.getElementById("measurement2Value").textContent =
                maxHeight.toFixed(2);
              document.getElementById("measurement2Unit").textContent =
                "m (Max Height)";
              document.getElementById("measurement3Value").textContent =
                velocity;
              document.getElementById("measurement3Unit").textContent =
                "m/s (Velocity)";
              break;
          }
        }

        recordMeasurement() {
          const measurement = {
            experiment: this.currentExperiment,
            timestamp: Date.now(),
            data: this.getCurrentMeasurementData(),
          };

          this.measurements.push(measurement);
          this.experimentsCompleted++;

          if (this.experimentsCompleted % 5 === 0) {
            this.level++;
          }

          this.showFeedback(
            "Measurement recorded! Keep experimenting to discover patterns.",
            "success",
          );
          this.updateDisplay();
        }

        getCurrentMeasurementData() {
          const data = {};
          const experiment = this.experiments[this.currentExperiment];

          experiment.controls.forEach((control) => {
            data[control.id] = parseFloat(
              document.getElementById(control.id).value,
            );
          });

          return data;
        }

        resetExperiment() {
          this.isRunning = false;

          // Reset animations
          document
            .querySelectorAll(".pendulum, .spring, .projectile")
            .forEach((el) => {
              el.classList.remove("swinging", "bouncing");
              el.style.transform = "";
              el.style.transition = "";
            });

          document.getElementById("projectile").style.display = "none";

          this.hideFeedback();
        }

        showFormula() {
          const experiment = this.experiments[this.currentExperiment];
          this.showFeedback(
            `${experiment.name} Formula: ${experiment.formula}`,
            "info",
          );
        }

        updateConceptInfo() {
          const experiment = this.experiments[this.currentExperiment];
          document.getElementById("conceptInfo").innerHTML = `
                    <strong>${experiment.name}:</strong> ${experiment.description}<br>
                    <strong>Key Formula:</strong> ${experiment.formula}<br>
                    Adjust parameters and observe how they affect the physical behavior!
                `;
        }

        showFeedback(message, type) {
          const feedback = document.getElementById("feedback");
          feedback.textContent = message;
          feedback.className = `feedback ${type}`;
          feedback.style.display = "block";

          setTimeout(() => this.hideFeedback(), 4000);
        }

        hideFeedback() {
          document.getElementById("feedback").style.display = "none";
        }

        updateDisplay() {
          document.getElementById("experimentsCompleted").textContent =
            this.experimentsCompleted;
          document.getElementById("accuracy").textContent = this.accuracy;
          document.getElementById("level").textContent = this.level;
        }
      }

      // Initialize game when page loads
      window.addEventListener("load", () => {
        window.physicsGame = new PhysicsPlayground();
      });
    </script>
  </body>
</html>
