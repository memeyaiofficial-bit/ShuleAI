<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Robotics Workshop - Engineering Adventure</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(
          135deg,
          #2c3e50 0%,
          #3498db 50%,
          #9b59b6 100%
        );
        min-height: 100vh;
        padding: 20px;
      }

      .game-container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        padding: 30px;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .title {
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
      }

      .subtitle {
        color: #7f8c8d;
        font-size: 1.1rem;
        margin-bottom: 20px;
      }

      .workshop-area {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        border: 2px solid #e9ecef;
        min-height: 400px;
        position: relative;
      }

      .robot-display {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 300px;
        background: linear-gradient(135deg, #ecf0f1, #bdc3c7);
        border-radius: 10px;
        margin: 20px 0;
        position: relative;
        overflow: hidden;
      }

      .robot {
        position: relative;
        width: 200px;
        height: 250px;
        transition: all 0.5s ease;
      }

      .robot-head {
        width: 80px;
        height: 80px;
        background: #3498db;
        border-radius: 50%;
        margin: 0 auto 10px;
        position: relative;
        border: 3px solid #2c3e50;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .robot-eyes {
        position: absolute;
        top: 25px;
        width: 100%;
        display: flex;
        justify-content: space-around;
      }

      .robot-eye {
        width: 12px;
        height: 12px;
        background: #e74c3c;
        border-radius: 50%;
        animation: blink 3s infinite;
      }

      @keyframes blink {
        0%,
        90%,
        100% {
          opacity: 1;
        }
        95% {
          opacity: 0.3;
        }
      }

      .robot-body {
        width: 120px;
        height: 100px;
        background: #34495e;
        margin: 0 auto;
        border-radius: 10px;
        position: relative;
        border: 3px solid #2c3e50;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .robot-panel {
        position: absolute;
        top: 15px;
        left: 15px;
        right: 15px;
        height: 40px;
        background: #2c3e50;
        border-radius: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #2ecc71;
        font-weight: bold;
        font-size: 0.8rem;
      }

      .robot-arms {
        position: absolute;
        top: 110px;
        width: 200px;
        display: flex;
        justify-content: space-between;
      }

      .robot-arm {
        width: 15px;
        height: 60px;
        background: #7f8c8d;
        border-radius: 7px;
        border: 2px solid #2c3e50;
      }

      .robot-legs {
        position: absolute;
        top: 190px;
        width: 120px;
        display: flex;
        justify-content: space-around;
        left: 40px;
      }

      .robot-leg {
        width: 20px;
        height: 60px;
        background: #7f8c8d;
        border-radius: 10px;
        border: 2px solid #2c3e50;
      }

      .components-panel {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .component-card {
        background: white;
        padding: 15px;
        border-radius: 10px;
        border: 2px solid #e9ecef;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .component-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        border-color: #3498db;
      }

      .component-card.selected {
        border-color: #2ecc71;
        background: #d5f4e6;
      }

      .component-card.installed {
        border-color: #95a5a6;
        background: #ecf0f1;
        opacity: 0.7;
      }

      .component-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
      }

      .component-name {
        font-size: 1rem;
        font-weight: bold;
        margin-bottom: 5px;
        color: #2c3e50;
      }

      .component-description {
        font-size: 0.8rem;
        color: #7f8c8d;
        margin-bottom: 10px;
      }

      .component-price {
        font-size: 0.9rem;
        font-weight: bold;
        color: #e67e22;
      }

      .score-board {
        display: flex;
        justify-content: space-around;
        background: #34495e;
        color: white;
        padding: 15px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .score-item {
        text-align: center;
      }

      .score-value {
        font-size: 1.5rem;
        font-weight: bold;
      }

      .score-label {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .challenge-area {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border: 2px solid #9b59b6;
      }

      .challenge-text {
        font-size: 1.2rem;
        color: #2c3e50;
        margin-bottom: 15px;
        text-align: center;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin: 20px 0;
      }

      .btn {
        padding: 12px 30px;
        border: none;
        border-radius: 25px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
      }

      .btn-primary {
        background: #3498db;
        color: white;
      }

      .btn-secondary {
        background: #95a5a6;
        color: white;
      }

      .btn-success {
        background: #27ae60;
        color: white;
      }

      .btn-warning {
        background: #f39c12;
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      .info-panel {
        background: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
      }

      .info-title {
        color: #2c3e50;
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .info-text {
        color: #34495e;
        line-height: 1.6;
      }

      .feedback {
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        text-align: center;
        font-weight: bold;
        display: none;
      }

      .feedback.success {
        background: #d5f4e6;
        color: #27ae60;
        border: 2px solid #27ae60;
      }

      .feedback.error {
        background: #fadbd8;
        color: #e74c3c;
        border: 2px solid #e74c3c;
      }

      .feedback.warning {
        background: #fff3cd;
        color: #856404;
        border: 2px solid #ffc107;
      }

      .robot.animated {
        animation: robotDance 2s ease-in-out;
      }

      @keyframes robotDance {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        25% {
          transform: translateY(-10px) rotate(5deg);
        }
        50% {
          transform: translateY(0) rotate(0deg);
        }
        75% {
          transform: translateY(-5px) rotate(-3deg);
        }
      }

      .progress-bar {
        width: 100%;
        height: 15px;
        background: #ecf0f1;
        border-radius: 10px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #3498db, #9b59b6);
        transition: width 0.3s ease;
        border-radius: 10px;
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1 class="title">ðŸ¤– Robotics Workshop</h1>
        <p class="subtitle">Build and program your dream robot!</p>
      </div>

      <div class="score-board">
        <div class="score-item">
          <div class="score-value" id="budget">500</div>
          <div class="score-label">Budget (â‚¹)</div>
        </div>
        <div class="score-item">
          <div class="score-value" id="level">1</div>
          <div class="score-label">Challenge Level</div>
        </div>
        <div class="score-item">
          <div class="score-value" id="robotsBuilt">0</div>
          <div class="score-label">Robots Built</div>
        </div>
      </div>

      <div class="challenge-area">
        <div class="challenge-text" id="challengeText">
          Build a basic robot with essential components
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
      </div>

      <div class="workshop-area">
        <div class="robot-display">
          <div class="robot" id="robot">
            <div class="robot-head">
              <div class="robot-eyes">
                <div class="robot-eye"></div>
                <div class="robot-eye"></div>
              </div>
            </div>
            <div class="robot-body">
              <div class="robot-panel" id="robotPanel">OFFLINE</div>
            </div>
            <div class="robot-arms">
              <div class="robot-arm"></div>
              <div class="robot-arm"></div>
            </div>
            <div class="robot-legs">
              <div class="robot-leg"></div>
              <div class="robot-leg"></div>
            </div>
          </div>
        </div>

        <div class="components-panel" id="componentsPanel">
          <!-- Component cards will be generated here -->
        </div>
      </div>

      <div class="feedback" id="feedback"></div>

      <div class="controls">
        <button class="btn btn-secondary" onclick="resetRobot()">
          Reset Robot
        </button>
        <button class="btn btn-primary" onclick="testRobot()">
          Test Robot
        </button>
        <button
          class="btn btn-success"
          onclick="completeChallenge()"
          id="completeBtn"
          disabled
        >
          Complete Challenge
        </button>
        <button class="btn btn-warning" onclick="showTutorial()">
          Tutorial
        </button>
      </div>

      <div class="info-panel">
        <h3 class="info-title">ðŸ”§ Robotics Guide:</h3>
        <div class="info-text">
          <strong>CPU:</strong> Brain of the robot - required for basic
          functions<br />
          <strong>Sensors:</strong> Help robot perceive environment<br />
          <strong>Actuators:</strong> Enable robot movement and actions<br />
          <strong>Power Source:</strong> Provides energy for all components<br />
          <strong>Memory:</strong> Stores programs and data<br />
          Complete challenges by installing required components within budget!
        </div>
      </div>
    </div>

    <script>
      // Global functions for onclick events
      function installComponent(componentId) {
        if (window.roboticsGame) {
          window.roboticsGame.installComponent(componentId);
        }
      }

      function resetRobot() {
        if (window.roboticsGame) {
          window.roboticsGame.resetRobot();
        }
      }

      function testRobot() {
        if (window.roboticsGame) {
          window.roboticsGame.testRobot();
        }
      }

      function completeChallenge() {
        if (window.roboticsGame) {
          window.roboticsGame.completeChallenge();
        }
      }

      function showTutorial() {
        if (window.roboticsGame) {
          window.roboticsGame.showTutorial();
        }
      }

      class RoboticsWorkshop {
        constructor() {
          this.budget = 500;
          this.level = 1;
          this.robotsBuilt = 0;
          this.installedComponents = [];

          this.components = [
            {
              id: "cpu",
              icon: "ðŸ§ ",
              name: "CPU Processor",
              description: "The brain of your robot",
              price: 100,
              category: "essential",
            },
            {
              id: "battery",
              icon: "ðŸ”‹",
              name: "Power Battery",
              description: "Provides energy to all systems",
              price: 80,
              category: "essential",
            },
            {
              id: "camera",
              icon: "ðŸ“·",
              name: "Vision Camera",
              description: "Allows robot to see and navigate",
              price: 120,
              category: "sensor",
            },
            {
              id: "speaker",
              icon: "ðŸ”Š",
              name: "Audio Speaker",
              description: "Enables robot communication",
              price: 60,
              category: "output",
            },
            {
              id: "wheels",
              icon: "ðŸ›ž",
              name: "Mobility Wheels",
              description: "Allows robot to move around",
              price: 90,
              category: "movement",
            },
            {
              id: "sensors",
              icon: "ðŸ“¡",
              name: "Distance Sensors",
              description: "Detects obstacles and objects",
              price: 70,
              category: "sensor",
            },
            {
              id: "arm",
              icon: "ðŸ¦¾",
              name: "Robotic Arm",
              description: "Manipulates objects in environment",
              price: 150,
              category: "actuator",
            },
            {
              id: "memory",
              icon: "ðŸ’¾",
              name: "Memory Module",
              description: "Stores programs and learning data",
              price: 40,
              category: "data",
            },
          ];

          this.challenges = [
            {
              level: 1,
              title: "Build a basic robot with essential components",
              required: ["cpu", "battery"],
              budget: 500,
              reward: 200,
            },
            {
              level: 2,
              title: "Create a mobile robot that can navigate",
              required: ["cpu", "battery", "wheels", "sensors"],
              budget: 700,
              reward: 300,
            },
            {
              level: 3,
              title: "Build an interactive robot with communication",
              required: ["cpu", "battery", "camera", "speaker"],
              budget: 800,
              reward: 400,
            },
            {
              level: 4,
              title: "Design an advanced robot with manipulation capability",
              required: ["cpu", "battery", "camera", "arm", "memory"],
              budget: 1000,
              reward: 500,
            },
          ];

          this.init();
        }

        init() {
          this.generateComponents();
          this.updateDisplay();
          this.updateChallenge();
        }

        generateComponents() {
          const panel = document.getElementById("componentsPanel");
          panel.innerHTML = "";

          this.components.forEach((component) => {
            const card = document.createElement("div");
            card.className = `component-card ${this.installedComponents.includes(component.id) ? "installed" : ""}`;
            card.onclick = () => this.installComponent(component.id);

            card.innerHTML = `
                        <div class="component-icon">${component.icon}</div>
                        <div class="component-name">${component.name}</div>
                        <div class="component-description">${component.description}</div>
                        <div class="component-price">â‚¹${component.price}</div>
                    `;

            panel.appendChild(card);
          });
        }

        installComponent(componentId) {
          const component = this.components.find((c) => c.id === componentId);
          if (!component) return;

          if (this.installedComponents.includes(componentId)) {
            this.showFeedback("Component already installed!", "warning");
            return;
          }

          if (this.budget < component.price) {
            this.showFeedback(
              "Insufficient budget for this component!",
              "error",
            );
            return;
          }

          this.budget -= component.price;
          this.installedComponents.push(componentId);

          this.showFeedback(
            `${component.name} installed successfully!`,
            "success",
          );
          this.updateDisplay();
          this.generateComponents();
          this.updateRobotDisplay();
          this.checkChallengeCompletion();
        }

        updateRobotDisplay() {
          const panel = document.getElementById("robotPanel");
          const robot = document.getElementById("robot");

          if (this.installedComponents.length === 0) {
            panel.textContent = "OFFLINE";
            panel.style.color = "#e74c3c";
          } else if (
            this.installedComponents.includes("cpu") &&
            this.installedComponents.includes("battery")
          ) {
            panel.textContent = "ONLINE";
            panel.style.color = "#2ecc71";
          } else {
            panel.textContent = "PARTIAL";
            panel.style.color = "#f39c12";
          }

          // Update robot appearance based on installed components
          if (this.installedComponents.includes("camera")) {
            robot.querySelector(".robot-head").style.background = "#3498db";
          }

          if (this.installedComponents.includes("arm")) {
            robot.querySelectorAll(".robot-arm").forEach((arm) => {
              arm.style.background = "#e67e22";
            });
          }

          if (this.installedComponents.includes("wheels")) {
            robot.querySelectorAll(".robot-leg").forEach((leg) => {
              leg.style.background = "#2ecc71";
              leg.style.borderRadius = "50%";
            });
          }
        }

        testRobot() {
          if (
            !this.installedComponents.includes("cpu") ||
            !this.installedComponents.includes("battery")
          ) {
            this.showFeedback(
              "Robot needs CPU and Battery to function!",
              "error",
            );
            return;
          }

          const robot = document.getElementById("robot");
          robot.classList.add("animated");

          setTimeout(() => {
            robot.classList.remove("animated");
          }, 2000);

          let functionality = [];
          if (this.installedComponents.includes("camera"))
            functionality.push("Vision");
          if (this.installedComponents.includes("speaker"))
            functionality.push("Audio");
          if (this.installedComponents.includes("wheels"))
            functionality.push("Movement");
          if (this.installedComponents.includes("arm"))
            functionality.push("Manipulation");
          if (this.installedComponents.includes("sensors"))
            functionality.push("Sensing");

          const message =
            functionality.length > 0
              ? `Robot is working! Functions: ${functionality.join(", ")}`
              : "Robot is functional but has limited capabilities";

          this.showFeedback(message, "success");
        }

        checkChallengeCompletion() {
          const currentChallenge = this.challenges[this.level - 1];
          if (!currentChallenge) return;

          const hasAllRequired = currentChallenge.required.every(
            (componentId) => this.installedComponents.includes(componentId),
          );

          const completeBtn = document.getElementById("completeBtn");
          completeBtn.disabled = !hasAllRequired;

          // Update progress
          const progress =
            (this.installedComponents.filter((id) =>
              currentChallenge.required.includes(id),
            ).length /
              currentChallenge.required.length) *
            100;

          document.getElementById("progressFill").style.width = `${progress}%`;

          if (hasAllRequired) {
            this.showFeedback(
              "Challenge requirements met! Ready to complete!",
              "success",
            );
          }
        }

        completeChallenge() {
          const currentChallenge = this.challenges[this.level - 1];
          if (!currentChallenge) return;

          const hasAllRequired = currentChallenge.required.every(
            (componentId) => this.installedComponents.includes(componentId),
          );

          if (!hasAllRequired) {
            this.showFeedback("Challenge requirements not met!", "error");
            return;
          }

          this.budget += currentChallenge.reward;
          this.robotsBuilt++;
          this.level++;

          if (this.level <= this.challenges.length) {
            this.showFeedback(
              `Challenge completed! Earned â‚¹${currentChallenge.reward} bonus!`,
              "success",
            );
            setTimeout(() => {
              this.resetRobot();
              this.updateChallenge();
            }, 2000);
          } else {
            this.showFeedback(
              "Congratulations! You completed all robotics challenges!",
              "success",
            );
          }

          this.updateDisplay();
        }

        resetRobot() {
          this.installedComponents = [];
          this.generateComponents();
          this.updateRobotDisplay();
          this.updateDisplay();
          this.checkChallengeCompletion();
          this.hideFeedback();
        }

        updateChallenge() {
          const currentChallenge = this.challenges[this.level - 1];
          if (currentChallenge) {
            document.getElementById("challengeText").textContent =
              currentChallenge.title;
            // Update budget if challenge specifies it
            if (this.budget < currentChallenge.budget) {
              this.budget = currentChallenge.budget;
            }
          } else {
            document.getElementById("challengeText").textContent =
              "All challenges completed!";
          }
        }

        showFeedback(message, type) {
          const feedback = document.getElementById("feedback");
          feedback.textContent = message;
          feedback.className = `feedback ${type}`;
          feedback.style.display = "block";

          setTimeout(() => this.hideFeedback(), 3000);
        }

        hideFeedback() {
          document.getElementById("feedback").style.display = "none";
        }

        updateDisplay() {
          document.getElementById("budget").textContent = this.budget;
          document.getElementById("level").textContent = this.level;
          document.getElementById("robotsBuilt").textContent = this.robotsBuilt;
        }

        showTutorial() {
          alert(`ðŸ¤– Robotics Workshop Tutorial:

GOAL: Complete challenges by building robots with required components

BASIC STEPS:
1. Read the challenge requirements
2. Select components from the panel
3. Manage your budget carefully
4. Test your robot to see if it works
5. Complete the challenge when all requirements are met

COMPONENT TYPES:
â€¢ Essential: CPU and Battery (required for basic function)
â€¢ Sensors: Camera, Distance Sensors (help robot perceive)
â€¢ Actuators: Wheels, Robotic Arm (enable movement/action)
â€¢ I/O: Speaker (communication)
â€¢ Storage: Memory Module (data storage)

TIPS:
â€¢ Start with essential components first
â€¢ Test your robot frequently
â€¢ Budget management is crucial for success
â€¢ Each challenge provides bonus money upon completion

Have fun building amazing robots! ðŸš€`);
        }
      }

      // Initialize game when page loads
      window.addEventListener("load", () => {
        window.roboticsGame = new RoboticsWorkshop();
      });
    </script>
  </body>
</html>
